<?xml version="1.0" ?>
<!DOCTYPE book PUBLIC "-//KDE//DTD DocBook XML V4.5-Based Variant V1.1//EN" "dtd/kdedbx45.dtd" [
  <!ENTITY kleopatra "<application
>Kleopatra</application
>">
  <!ENTITY uiserver "UiServer">
  <!ENTITY kwatchgnupg "<application
>KWatchGnuPG</application
>">
  <!ENTITY gpgsm "<application
>GpgSM</application
>">
  <!ENTITY gnupg "<application
>GnuPG</application
>">
  <!ENTITY gpg "<application
>GPG</application
>">
  <!ENTITY gpgme "<application
>GpgME</application
>"
> <!--### there's no <library
>-->
  <!ENTITY gpgconf "<application
>GpgConf</application
>">
  <!ENTITY gpgagent "<application
>GpgAgent</application
>">
  <!ENTITY dirmngr "<application
>DirMngr</application
>">
  <!ENTITY scdaemon "<application
>SCDaemon</application
>">
  <!ENTITY pinentry "<application
>PinEntry</application
>">
  <!ENTITY kappname "&kleopatra;">
  <!ENTITY package "kdepim">
  <!ENTITY ldap "<acronym
>LDAP</acronym
>">
  <!ENTITY ldaps "<acronym
>LDAPS</acronym
>">
  <!ENTITY http "<acronym
>HTTP</acronym
>">
  <!ENTITY smime "<acronym
>S/MIME</acronym
>">
  <!ENTITY openpgp "<acronym
>OpenPGP</acronym
>">
  <!ENTITY ascii "<acronym
>ASCII</acronym
>">
  <!ENTITY der "<acronym
>DER</acronym
>">
  <!ENTITY ssl "<acronym
>SSL</acronym
>">
  <!ENTITY x509 "<acronym
>X.509</acronym
>">
  <!ENTITY crl "<acronym
>CRL</acronym
>">
  <!ENTITY ocsp "<acronym
>OCSP</acronym
>">
  <!ENTITY NA "<acronym
>N/A</acronym
>">
  <!ENTITY % addindex "IGNORE">
  <!ENTITY % Portuguese "INCLUDE">

  <!ENTITY dn "<acronym
>DN</acronym
>">
  <!ENTITY ca "<acronym
>CA</acronym
>">
]>

<book id="kleopatra" lang="&language;">

<bookinfo id="kleopatrainfo">
<title
>O Manual do &kleopatra;</title>

<authorgroup>
<author
><firstname
>Marc</firstname
> <surname
>Mutz</surname
> <affiliation
> <address
><email
>marc@kdab.net</email
></address>
</affiliation>
</author>

<othercredit role="developer"
><firstname
>David</firstname
> <surname
>Faure</surname
> <contrib
>Desenvolvimento</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Steffen</firstname
> <surname
>Hansen</surname
> <affiliation
> <address
>&Steffen.Hansen.mail;</address>
</affiliation>
<contrib
>Desenvolvimento</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Matthias Kalle</firstname
> <surname
>Dalheimer</surname
> <contrib
>Desenvolvimento</contrib>
</othercredit>

<othercredit role="developer"
><firstname
>Jesper</firstname
> <surname
>Pedersen</surname
> <affiliation
> <address
>&Jesper.Pedersen.mail;</address>
</affiliation>
<contrib
>Desenvolvimento</contrib>
</othercredit>
<othercredit role="developer"
><firstname
>Daniel</firstname
> <surname
>Molkentin</surname
> <affiliation
> <address
>&Daniel.Molkentin.mail;</address>
</affiliation>
<contrib
>Desenvolvimento</contrib>
</othercredit>

<othercredit role="translator"
><firstname
>José</firstname
><surname
>Pires</surname
><affiliation
><address
><email
>zepires@gmail.com</email
></address
></affiliation
><contrib
>Tradução</contrib
></othercredit
> 
</authorgroup>

<legalnotice
>&GPLNotice;</legalnotice>

<date
>2013-07-04</date>
<releaseinfo
>2.1.1 (&kde; 4.11)</releaseinfo>

<abstract>
<para
>O &kleopatra; é uma ferramenta para gerir os certificados de <ulink url="http://en.wikipedia.org/wiki/X.509"
>&x509;</ulink
> e <ulink url="http://en.wikipedia.org/wiki/Pretty_Good_Privacy#OpenPGP"
>&openpgp;</ulink
>. </para>
</abstract>


<keywordset>
<keyword
>KDE</keyword>
<keyword
>Kapp</keyword>
<keyword
>X509</keyword>
<keyword
>OpenPGP</keyword>
<keyword
>PGP</keyword>
<keyword
>LDAP</keyword>
<keyword
>gpg</keyword>
<keyword
>gpgsm</keyword>
<keyword
>certificado</keyword>
</keywordset>

</bookinfo>

<chapter id="introduction"
> <title
>Introdução</title>

<para
>O &kleopatra; é a ferramenta do &kde; para gerir os certificados de <ulink url="http://en.wikipedia.org/wiki/X.509"
>&x509;</ulink
> e <ulink url="http://en.wikipedia.org/wiki/Pretty_Good_Privacy#OpenPGP"
>&openpgp;</ulink
> nos porta-chaves do <ulink url="http://www.gnupg.org/documentation/manuals/gnupg/Invoking-GPGSM.html"
>&gpgsm;</ulink
> e do <ulink url="http://en.wikipedia.org/wiki/GNU_Privacy_Guard"
>&gpg;</ulink
>, assim como para obter os certificados do &ldap; e de outros servidores de certificados.</para>

<para
>O &kleopatra; poderá ser iniciado a partir do menu <menuchoice
><guimenu
>Ferramentas</guimenu
><guimenuitem
>Gestor de Certificados</guimenuitem
></menuchoice
> do &kmail;, assim como a partir da linha de comandos. O executável do &kleopatra; chama-se <userinput
><command
>kleopatra</command
></userinput
>.</para>

<note
><para
>Este programa obteve o nome da Cleópatra, uma famosa faraó egípcia que viveu na altura de Júlio César, de quem se diz que teve um filho, Pequeno César, não reconhecido como seu herdeiro.</para>

<para
>O nome foi escolhido, dado que este programa tem origem dos <ulink url="http://www.gnupg.org/aegypten2/"
>Projectos &Auml;gypten</ulink
> (&Auml;gypten significa Egipto em alemão). &kleopatra; é a tradução em alemão de Cleópatra.</para
></note>

</chapter>

<chapter id="functions"
><title
>Funções Principais</title>

<sect1 id="functions-view"
><title
>Ver a Caixa de Chaves Local</title>

<!-- Viewing and Refreshing, also Validation -->

<para
>A função principal do &kleopatra; é mostrar e editar o conteúdo do chaveiro local, o qual é semelhante ao conceito de chaveiros do &gpg;, ainda que uma pessoa não se possa limitar a esta analogia em demasia.</para>

<para
>A janela principal está dividida na grande área de listagem de chaves, na barra de menu e na <link linkend="functions-search"
>barra de procura</link
> no cimo e ainda por uma barra de estado em baixo.</para>

<para
>Cada linha da lista de chaves corresponde a um certificado, identificado pelo <guilabel
>&dn; do Sujeito</guilabel
>. O &dn; é um acrónimo para <quote
>Distinguished Name</quote
> ou <quote
>Nome Distinto</quote
>, um identificador hierárquico, de certa forma semelhante a uma localização num sistema de ficheiros com uma sintaxe ligeiramente diferente, permitindo identificar de forma unívoca e global um dado certificado.</para>

<para
>Para serem válidas e para poderem ser usadas, as chaves (públicas) devem ser assinadas por uma &ca; (Autoridade de Certificação). Estas assinaturas são chamadas de certificados, mas normalmente os termos <quote
>certificado</quote
> e <quote
>chave (pública)</quote
> são usados nas mesmas circunstâncias, razão pela qual não será também feita nenhuma distinção entre elas neste manual, a não ser no caso de ser indicado explicitamente.</para>

<para
>As &ca; deverão estar, por sua vez, assinadas por outras &ca;s para serem válidas. Obviamente isto terá de parar em algum ponto, como tal a &ca; do nível de topo (a &ca; de raiz) assina a sua chave consigo própria (isto é chamado de auto-assinatura). Os certificados de raiz precisam, por isso, de ter validade (normalmente chamada de confiança) manualmente, &eg; depois de comparar a impressão digital com a da página Web da &ca;. Isto é feito tipicamente pelo administrador do sistema ou pelo distribuidor de um produto que use os certificados, mas poderá ser feito pelo utilizador com a interface da linha de comandos do &gpgsm;.</para>

<para
>Para ver quais os certificados que são da raiz, poderá mudar para o modo de listagem hierárquica de chaves com o <xref linkend="view-hierarchical-key-list"/>.</para>

<para
>O utilizador poderá ver os detalhes de qualquer certificado se fizer duplo-click nele ou usar os <xref linkend="view-certificate-details"/>. Isto abre uma janela que apresenta as propriedades mais comuns do certificado, a sua cadeia de certificação (&ie; a cadeia de emissores até à &ca; de raiz), e o conteúdo de toda a informação que a infra-estrutura é capaz de extrair do certificado.</para>

<para
>Se você alterar o chaveiro local sem usar o &kleopatra; (&eg; usando a interface da linha de comandos do &gpgsm;), poderá actualizar a janela com o <xref linkend="view-redisplay"/>.</para>

<!-- no longer in kde 4
para
>Since validating a key may take some time (&eg; CRLs might need
to be fetched), the normal keylisting does not attempt to check the
validity of keys. For this, <link linkend="certificates-validate">
<menuchoice
><shortcut
><keycombo action="simul"
>&Shift;<keycap
>F5</keycap
></keycombo>
</shortcut
><guimenu
>Certificates</guimenu
><guimenuitem
>Validate</guimenuitem
></menuchoice
></link
>,
a special variant of <link
linkend="view-redisplay"
><menuchoice
><shortcut
><keycombo action="simul">
<keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu>
<guimenuitem
>Redisplay</guimenuitem
></menuchoice
></link
>, is provided. It
either checks the selected certificates, or all keys if none are
selected.</para-->

</sect1>

<sect1 id="functions-search"
><title
>Procurar e Importar Certificados</title>

<para
>Na maior parte do tempo, você irá adquirir os certificados novos ao verificar as assinaturas nas mensagens de e-mail, dado que os certificados estão incorporados nas assinaturas criadas que as usam. Contudo, se você precisar de enviar uma mensagem para alguém com quem ainda nunca tenha tido contacto, você precisa de obter o certificado de um directório de &ldap; (ainda que o <ulink url="http://www.gnupg.org/documentation/manuals/gnupg/Invoking-GPGSM.html#Invoking-GPGSM"
>&gpgsm;</ulink
> possa fazer isto automaticamente), ou através de um ficheiro. Também necessita de importar o seu próprio certificado depois de receber a resposta da &ca; ao seu pedido do certificado.</para>

<para
>Para procurar por um certificado num directório de &ldap;, seleccione a opção <menuchoice
><guimenu
>Ficheiro</guimenu
><guimenuitem
>Procurar os Certificados no Servidor</guimenuitem
></menuchoice
> e introduzir algum texto (&eg; o nome da pessoa de quem deseja o certificado) no campo de texto da janela de <guilabel
>Pesquisa de Certificados no Servidor de Chaves</guilabel
>, carregando depois no botão <guilabel
>Procurar</guilabel
>. Os resultados serão apresentados na lista de chaves, por baixo da barra de procura, onde poderá seleccionar os certificados a observar, carregando no botão de <guibutton
>Detalhes</guibutton
> ou transferi-los com a opção <guibutton
>Importar</guibutton
> na área de chaves locais.</para>
<!--
Note that you can also download the certificate from the
details dialog, using the <guilabel
>Import to Local</guilabel>
button.</para>
not found in 4.2
-->

<para
>Você poderá configurar a lista de servidores &ldap; onde procurar na página <link linkend="configuration-directory-services"
><guilabel
>Serviços de Directório</guilabel
></link
> da janela de configuração do &kleopatra;.</para>

<para
>Se você recebeu o certificado como um ficheiro, tente o <xref linkend="file-import-certificates"/>. O &gpgsm; necessita de compreender o formato do ficheiro de certificado; por favor veja o manual do &gpgsm; para obter uma lista com os formatos de ficheiros suportados.</para>

<para
>Se você não <link linkend="functions-newkey"
>criou o seu par de chaves com o &gpgsm;</link
>, também irá necessitar de importar manualmente as chaves pública e privada do ficheiro PKCS#12 que obteve da &ca;. Poderá fazê-lo na linha de comandos com a instrução <xref linkend="commandline-option-import-certificate"/> ou dentro do &kleopatra; com o <xref linkend="file-import-certificates"/>, tal como faria para os certificados <quote
>normais</quote
>.</para>

</sect1>

<sect1 id="functions-newkey"
><title
>Criar Novos Pares de Chaves</title>

<para
>O item do menu <xref linkend="file-new-key-pair"/> inicia o <guilabel
>Assistente de Criação do Certificado</guilabel
> que o guiará por um conjunto de passos para criar um pedido de certificado.</para>
<para
>Sempre que terminar um passo no assistente, carregue em <guibutton
>Próximo</guibutton
> para passar ao passo seguinte (ou <guibutton
>Anterior</guibutton
> para rever os passos já completos). A criação do pedido do certificado poderá ser cancelada em qualquer altura se carregar no botão <guibutton
>Cancelar</guibutton
>. </para>
<para
>Na primeira página do assistente, escolha o tipo de certificado que deseja criar:</para>

<variablelist>

<varlistentry>
<term
><guilabel
>Criar um par de chaves do OpenPGP pessoal</guilabel
></term>
<listitem
><para
>Os pares de chaves &openpgp; são criados a nível local, sendo certificados pelos seus amigos e conhecidos. Não existe nenhuma autoridade de certificação central; em vez disso, cada indivíduo cria uma Cadeia de Confiança pessoal, certificando os pares de chaves dos outros utilizadores com o seu próprio certificado.</para>
<para
>Terá de indicar um <guilabel
>Nome</guilabel
>, <guilabel
>E-Mail</guilabel
> e, opcionalmente, um <guilabel
>Comentário</guilabel
>.</para>
</listitem>
</varlistentry>
<varlistentry>
<term
><guilabel
>Criar um par de chaves X.509 pessoal e um pedido de certificação</guilabel
></term>
<listitem>
<para
>Os pares de chaves &x509; são criados a nível local, mas são certificados por uma autoridade central (a &ca;). As &ca;'s poderão certificar outras &ca;'s, criando uma cadeia central e hierárquica de confiança.</para>
<para
>O próximo passo do assistente é escrever os seus dados pessoais para o certificado. Os campos a preencher são: <itemizedlist>
<listitem>
<para
><guilabel
>Nome Comum (CN):</guilabel
> O seu nome;</para>
</listitem>
<listitem>
<para
><guilabel
>Endereço de e-mail (EMAIL):</guilabel
> O seu endereço de e-mail; confirme que o introduz correctamente&mdash;será este o endereço para onde as pessoas irão enviar as mensagens sempre que usarem o seu certificado.</para>
</listitem>
<listitem>
<para
><guilabel
>Localização (L):</guilabel
> A cidade onde vive;</para>
</listitem>
<listitem>
<para
><guilabel
>Departamento (OU):</guilabel
> A unidade organizacional onde se encontra (por exemplo, "Logística");</para>
</listitem>
<listitem>
<para
><guilabel
>Organização (O):</guilabel
> A organização que você representa (por exemplo, a companhia para quem trabalha);</para>
</listitem>
<listitem>
<para
><guilabel
>Código do país (C):</guilabel
> O código de duas letras para o país em que vive (por exemplo, "PT");</para>
</listitem>
</itemizedlist>
</para
><para
>O próximo passo no assistente é seleccionar se é suposto gravar o certificado num ficheiro ou enviá-lo directamente para uma &ca;. Você terá de indicar o ficheiro ou o endereço de e-mail para onde enviar o pedido do certificado. </para>
</listitem>
</varlistentry>
</variablelist>

<!--FIXME modified copy from kgpg-->
<sect2 id="key-revoke">
<title
>Revogar uma chave</title>

<para
>Um par de chaves que tenha expirado poderá voltar a um estado operacional, desde que tenha acesso à chave privada e à frase-senha. Para inutilizar de forma fiável uma chave, terá de a revogar. A revogação é feita com a adição de uma assinatura de revogação especial à chave.</para>

<para
>Esta assinatura de revogação é guardada num ficheiro separado. Este ficheiro poderá ser importado posteriormente para o porta-chaves e depois será associado à chave, inutilizando-a. Lembre-se que, para importar esta assinatura para a chave, não será necessária qualquer senha. Como tal, deverá guardar esta assinatura de revogação num local seguro, normalmente um que seja diferente do seu par de chaves. É um bom conselho usar um local que esteja dissociado do seu computador; copie-o para um dispositivo externo, como um disco USB, ou imprima-a.</para>

<para
>O &kleopatra; não oferece uma funcionalidade para criar uma dessas assinaturas de revogação em qualquer altura, mas podê-lo-á fazer com a aplicação do &kde; &kgpg;, escolhendo a opção <menuchoice
><guimenu
>Chaves</guimenu
> <guimenuitem
>Revogar a chave</guimenuitem
></menuchoice
> e, opcionalmente, importar imediatamente a assinatura de revogação ao seu porta-chaves.</para>

<para
>Uma forma alternativa de gerar um certificado de revogação é usar o &gpg; directamente a partir da linha de comandos: <userinput
>gpg --output <replaceable
>certificado_revogação</replaceable
>.asc --gen-revoke <replaceable
>a_sua_chave</replaceable
></userinput
>. O argumento <replaceable
>a_sua_chave</replaceable
> poderá ser um indicador de chave, sendo o ID de chave do seu par de chaves primário ou qualquer parte de um ID de utilizador que identifica o seu par de chaves.</para>

</sect2>

</sect1>


<!-- hopelessly outdated
<sect1 id="functions-keybox-management"
><title
>Keybox Management</title>

<para
>In addition to <link linkend="functions-view"
>list and
validate</link
>, <link linkend="functions-search"
>search and
import</link
> certificates and <link
linkend="functions-newkey"
>creating new ones</link
>, &kleopatra; also
has some less often used functions that help you manage your local
keybox.</para>

<para
>These functions include deleting certificates from the local
keybox with <xref linkend="certificates-delete"/>, as well
as manual handling of CRLs (<xref linkend="certificates-refresh-x509"/>,
<xref linkend="crls-clear-crl-cache"/>, <xref linkend="crls-dump-crl-cache"/>).
</para>

</sect1>
-->

</chapter>

<chapter id="menu"
><title
>Referência do Menu</title>

<sect1 id="menufile"
><title
>O Menu Ficheiro</title>

<variablelist>

<varlistentry id="file-new-key-pair">
<term
><menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>N</keycap
></keycombo
></shortcut
> <guimenu
>Ficheiro</guimenu
><guimenuitem
>Novo Certificado...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Cria um novo par de chaves (pública e privada)</action
> e permite-lhe enviar a parte pública para uma autoridade de certificação (&ca;) para ser assinada. O certificado resultante é então enviado de volta para si ou guardado num servidor &ldap; para você obter para o seu porta-chaves local, onde o poderá usar para assinar e descodificar as mensagens de e-mail.</para>

<para
>Este modo de funcionamento é chamado de <quote
>geração de chaves descentralizada</quote
>, dado que todas as chaves são criadas localmente. O &kleopatra; (e o &gpgsm;) não suportam a <quote
>geração de chaves centralizada</quote
> directamente, mas o utilizador poderá importar o pacote de chaves pública/privada que recebe da &ca; no formato PKCS#12 através do <xref linkend="file-import-certificates"/>.</para>
</listitem>
</varlistentry>

        <varlistentry id="file-lookup-certificates">
          <term>
            <menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;&Shift;<keycap
>I</keycap
></keycombo
></shortcut
> <guimenu
>Ficheiro</guimenu
><guimenuitem
>Procurar por Certificados no Servidor...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para
><action
>Procura e importa os certificados dos servidores de certificados para o porta-chaves local.</action
> Veja mais detalhes em <xref linkend="functions-search"/>. </para>
            <para
>Deverá ter os servidores de chaves configurados para isto funcionar. Veja mais detalhes em <xref linkend="configuration-directory-services"/>. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="file-import-certificates">
          <term>
            <menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>I</keycap
></keycombo
></shortcut
> <guimenu
>Ficheiro</guimenu
><guimenuitem
>Importar os Certificados...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para
><action
>Importa certificados e/ou chaves secretas de ficheiros na caixa de chaves local.</action
> Veja mais detalhes em <xref linkend="functions-search"/>. </para>
            <para
>O formato do ficheiro de certificado deve ser suportado pelo &gpgsm;/&gpg;. Por favor consulte no manual do &gpgsm; e do &gpg; a lista de formatos suportados. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="file-export-certificates">
          <term>
            <menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>E</keycap
></keycombo
></shortcut
> <guimenu
>Ficheiro</guimenu
><guimenuitem
>Exportar os Certificados...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Exporta os certificados seleccionados para um ficheiro.</action>
            </para>
            <para
>A extensão do nome do ficheiro que escolher para o ficheiro de exportação determina o formato do mesmo: </para>
            <itemizedlist>
              <listitem>
                <para
>Para os certificados do &openpgp;, o <filename class="extension"
>gpg</filename
> e o <filename class="extension"
>pgp</filename
> irão dar origem a um ficheiro binário, enquanto o <filename class="extension"
>asc</filename
> irá originar um ficheiro suportado em &ascii;. </para>
              </listitem>
              <listitem>
                <para
>Para os certificados &smime;, o <filename class="extension"
>der</filename
> irá dar origem a um ficheiro binário, codificado em &der;, enquanto o <filename class="extension"
>pem</filename
> irá resultar num ficheiro suportado em &ascii;. </para>
              </listitem>
            </itemizedlist>
            <para
>A menos que sejam seleccionados vários certificados, o &kleopatra; irá propor <filename
><replaceable
>impressão-digital</replaceable
>.{asc,pem}</filename
> como nome para o ficheiro de exportação. </para>
            <para
>Esta função só está disponível quando tiver seleccionado um ou mais certificados. </para>
            <note>
              <para
>Isto exporta apenas as chaves públicas, mesmo que a chave privada esteja disponível. Use a opção <xref linkend="file-export-secret-key"/> para exportar tanto as chaves públicas como as privadas para um ficheiro. </para>
            </note>
          </listitem>
        </varlistentry>

        <varlistentry id="file-export-secret-key">
          <term>
            <menuchoice
><guimenu
>Ficheiro</guimenu
><guimenuitem
>Exportar as Chaves Privadas...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Exporta a chave privada para um ficheiro.</action>
            </para>
            <para
>Na janela que aparece, poderá escolher o nome do <guilabel
>Ficheiro de saída</guilabel
>, e se deseja criar um ficheiro de exportação em binário ou em &ascii; (<guilabel
>armação em ASCII</guilabel
>). Ao exportar as chaves privadas de &smime;, poderá também escolher a <guilabel
>Codificação da frase-senha</guilabel
>. Veja a discussão sobre a opção <option
>--p12-charset&nbsp;<replaceable
>codificação</replaceable
></option
>, no manual do &gpgsm;, para mais detalhes. </para>
            <para
>Esta função só está disponível quando tiver seleccionado exactamente um certificado, estando disponível a chave privada para esse certificado. </para>
            <warning>
              <para
>Só raramente é deverá ser necessário usar esta função e, se for, deverá ser planeada com cuidado. A migração de uma chave privada envolve a escolha do meio de transporte e a remoção segura dos dados da chave da máquina antiga, entre outras coisas. </para>
            </warning>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>
            <menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;&Shift;<keycap
>E</keycap
></keycombo
></shortcut
> <guimenu
>Ficheiro</guimenu
><guimenuitem
>Exportar os Certificados para um Servidor...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para
><action
>Publica os certificados seleccionados num servidor de chaves</action
> (apenas no &openpgp;). </para>
            <para
>O certificado é enviado para o servidor configurado para o &openpgp; (cf.&nbsp;<xref linkend="configuration-directory-services"/>), se estiver definido, caso contrário é enviado para o <systemitem class="systemname"
>keys.gnupg.net</systemitem
>. </para>
            <para
>Esta função só está disponível se estiver seleccionado pelo menos um certificado de &openpgp; (e nenhum &smime;). </para>
            <note>
              <!-- also appears in message box in -->
              <!-- commands/exportopenpgpcertificatestoserver.cpp -->
              <para
>Quando os certificados de &openpgp; tiverem sido exportados para um servidor de directório público, será quase impossível removê-los de novo. Antes de exportar o seu certificado para um servidor público, certifique-se que criou um certificado de revogação, caso queira revogar o certificado posteriormente. </para>
            </note>
            <note>
              <para
>A maioria dos servidores de certificados de &openpgp; públicos sincronizam-nos entre si, pelo que não há grande vantagem em enviá-los para mais que um. </para>
              <para
>Poderá acontecer que uma pesquisa num servidor de certificados não devolva quaisquer resultados, ainda que tenha enviado o seu certificado para lá. Isto acontece porque a maioria dos servidores públicos de chaves usam o balanceamento sequencial 'round-robin' do <acronym
>DNS</acronym
> para distribuir a carga por várias máquinas. Estas máquinas sincronizam-se umas com as outras, mas isso normalmente só acontece ao fim de cerca de 24 horas. </para>
            </note>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>
            <menuchoice
><guimenu
>Ficheiro</guimenu
><guimenuitem
>Descodificar/Verificar os Ficheiros...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para
><action
>Descodifica os ficheiros e/ou verifica as assinaturas</action
> dos mesmos. </para>
<!--
            <para>
              See <xref linkend="function-decrypt-verify-files"/> for details.
            </para>
-->
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>
            <menuchoice
><guimenu
>Ficheiro</guimenu
><guimenuitem
>Assinar/Encriptar os Ficheiros...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Assina e/ou encripta os ficheiros.</action>
            </para>
<!--
            <para>
              See <xref linkend="function-sign-encrypt-files"/> for details.
            </para>
-->
          </listitem>
        </varlistentry>
<!--
Create Checksum Files...
Verify Checksum Files...
  missing-->
        <varlistentry>
          <term>
            <menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>W</keycap
></keycombo
></shortcut
> <guimenu
>Ficheiro</guimenu
><guimenuitem
>Fechar</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para
><action
>Fecha a janela principal do &kleopatra;.</action
> Podê-la-á repor a partir do ícone da bandeja em qualquer altura. </para>
          </listitem>
        </varlistentry>

<varlistentry id="file-quit">
<term
><menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>Q</keycap
></keycombo
></shortcut
> <guimenu
>Ficheiro</guimenu
><guimenuitem
>Sair</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Termina o &kleopatra;.</action
></para>
</listitem>
</varlistentry>

</variablelist>

</sect1
> <!-- File Menu -->



<sect1 id="menuview"
><title
>O Menu Ver</title>

      <variablelist>

        <varlistentry id="view-redisplay">
          <term>
            <menuchoice
><shortcut
><keycombo action="simul"
><keycap
>F5</keycap
></keycombo
></shortcut
> <guimenu
>Ver</guimenu
><guimenuitem
>Voltar a mostrar</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Volta a mostrar a lista de certificados.</action>
            </para>
            <para
>A utilização desta função normalmente não é necessária, dado que o &kleopatra; vigia o sistema de ficheiros à procura de alterações e actualiza automaticamente a lista de certificados, sempre que for necessário. </para>
          </listitem>
        </varlistentry>


        <varlistentry id="view-stop-operation">
          <term>
            <menuchoice
><shortcut
><keycombo action="simul"
>&Esc;</keycombo
></shortcut
> <guimenu
>Ver</guimenu
><guimenuitem
>Parar a Operação</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para
><action
>Pára (cancela) todas as operações pendentes,</action
> &eg; uma procura, uma listagem ou uma transferência. </para>
            <para
>Esta função só está disponível se estiver pelo menos uma operação activa. </para>
            <note>
              <para
>Devido a limitações na infra-estrutura, algumas vezes as operações ficarão penduradas de tal forma que esta função não será capaz de as cancelar, agora ou mesmo de todo. </para>
              <para
>Nesses casos, a única forma de repor a ordem é matar o &scdaemon;, o &dirmngr;, o &gpgsm; e o &gpg;, por essa ordem, através das ferramentas do sistema operativo (<command
>top</command
>, Gestor de Tarefas, &etc;), até que a operação seja desbloqueada. </para>
            </note>
          </listitem>
        </varlistentry>


<varlistentry id="view-certificate-details">
<term
><menuchoice
><guimenu
>Ver</guimenu
><guimenuitem
>Detalhes do Certificado</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Mostra os detalhes do certificado actualmente seleccionado.</action
></para>

<para
>Esta função só está disponível se estiver seleccionado exactamente um certificado.</para>

<para
>Esta função também está disponível carregando duas vezes no item correspondente na lista.</para>

<!--FIXME: link to the dialog's help, but where do we put _that_?-->
</listitem>
</varlistentry>


<varlistentry id="view-hierarchical-key-list">
<term
><menuchoice
><guimenu
>Ver</guimenu
><guimenuitem
>Lista de Chaves Hierárquica</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Comuta a lista de chaves entre modo hierárquico e simples. </action
></para>

<para
>No modo hierárquico, os certificados estão organizados numa relação de emissor/sujeito, por isso é fácil ver a que hierarquia de certificação pertence um dado certificado, mas é mais difícil encontrar um dado certificado inicialmente (ainda que possa, obviamente, usar à mesma a <link linkend="functions-search"
>barra de procura</link
>).</para>

<para
>No modo simples, todos os certificados são mostrados numa lista normal, ordenados de forma alfabética. Neste modo, um dado certificado é fácil de encontrar, mas não é directamente óbvio a que certificado de raiz ele pertence.</para>

            <para
>Esta função activa ou desactiva o modo hierárquico por página, &ie; cada página tem o seu próprio estado hierárquico. Isto acontece para que possa ter tanto uma listagem plana ou hierárquica à mão, cada uma para sua página. </para>

            <note>
              <para
>A visualização hierárquica só está de momento implementada para os certificados &smime;. Existe algum desacordo entre os programadores no que respeita à forma correcta de apresentar os certificados de &openpgp; de forma hierárquica (basicamente, <quote
>pai &equals; assinante</quote
> ou <quote
>pai &equals; assinado</quote
>). </para>
            </note>

</listitem>
</varlistentry>


<varlistentry id="view-expand-all">
<term
><menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>.</keycap
> </keycombo
></shortcut
><guimenu
>Ver</guimenu
><guimenuitem
>Expandir Tudo</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Expande todos os itens da lista na janela da lista de certificados,</action
> &ie; torna todos os itens visíveis.</para>

<para
>Este é o valor por omissão ao entrar no modo de lista de chaves hierárquico.</para>

<para
>Você poderá à mesma expandir e fechar cada item individualmente por si só, como é óbvio.</para>

<para
>Esta função só está disponível quando a <xref linkend="view-hierarchical-key-list"/> está activada.</para>

</listitem>
</varlistentry>

<varlistentry id="view-collapse-all">
<term
><menuchoice
><shortcut
><keycombo action="simul"
>&Ctrl;<keycap
>,</keycap
> </keycombo
></shortcut
><guimenu
>Ver</guimenu
><guimenuitem
>Fechar Tudo</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Fecha todos os itens da lista na janela da lista do certificado,</action
> &ie; esconde todos os itens menos os de topo.</para>

<para
>Você poderá à mesma expandir e fechar cada item individualmente por si só, como é óbvio.</para>

<para
>Esta função só está disponível quando a <xref linkend="view-hierarchical-key-list"/> está activada.</para>
</listitem>
</varlistentry>

</variablelist>

</sect1>

<sect1 id="menucertificates"
><title
>O Menu Certificados</title>

      <variablelist>

        <varlistentry id="certificates-change-owner-trust">
          <term>
            <menuchoice
><guimenu
>Certificados</guimenu
><guimenuitem
>Modificar a Confiança no Dono...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Modifica a confiança no dono do certificado de &openpgp; seleccionado de momento.</action>
<!--
              See <xref linkend="functions-manage-wot"/> for details.
-->
            </para>
            <para
>Esta função só está disponível quando tiver exactamente um certificado de &openpgp;. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="certificates-trust-root">
          <term>
            <menuchoice
><guimenu
>Certificados</guimenu
><guimenuitem
>Confiar no Certificado de Raiz</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Marca este certificado de raiz (&smime;) como fidedigno.</action>
            </para>
            <para
>De alguma forma, isto é o equivalente ao <xref linkend="certificates-change-owner-trust"/> para os certificados de raiz em &smime;. Poderá, contudo, escolher apenas entre &mdash;em termos do &openpgp;&mdash;confiança <quote
>absoluta</quote
> e <quote
>nunca confiar</quote
>. </para>
            <note>
              <para
>A infra-estrutura (através do &gpgagent;) irá perguntar, na altura da importação do certificado de raiz, se deseja confiar no certificado de raiz importado. Contudo, esta função terá de estar explicitamente activada na configuração da infra-estrutura (<option
>allow-mark-trusted</option
> no <filename
>gpg-agent.conf</filename
>, ou então o <menuchoice
><guimenu
>Sistema&nbsp;GnuPG</guimenu
> <guisubmenu
>Agente&nbsp;GPG</guisubmenu
> <guimenuitem
>Permitir aos clientes marcarem as chaves como "fidedignas"</guimenuitem
></menuchoice
> ou ainda o <link linkend="configuration-smime-validation-allow-mark-trusted"
><menuchoice
><guimenu
>Validação&nbsp;S/MIME</guimenu
> <guimenuitem
>Permitir marcar os certificados de raiz como fidedignos</guimenuitem
></menuchoice
></link
> em <xref linkend="configuration"/>). </para>
              <para
>Se activar essa funcionalidade na infra-estrutura, poderá fazer com que apareçam mensagens do &pinentry; em alturas inoportunas (&eg; ao verificar as assinaturas), podendo bloquear o processamento do correio não verificado). Por essa razão, e dado que se pretende ser possível <emphasis
>renegar</emphasis
> um certificado de raiz fidedigno, o &kleopatra; permite a definição manual da confiança. </para>
            </note>
            <warning>
              <para
>Devido à ausência de suporte por parte da infra-estrutura para esta função, o &kleopatra; tem de trabalhar directamente na base de dados de confiança do &gpgsm; (<filename
>trustlist.txt</filename
>). Ao usar esta função, certifique-se que não existem operações criptográficas em curso que possam interferir com o &kleopatra;, no que respeita a modificações a essa base de dados. </para>
            </warning>
            <para
>Esta função só está disponível quando estiver seleccionado um e só um certificado de raiz do &smime;, e caso esse certificado ainda não seja de confiança. </para>
            <para
>Use o <xref linkend="certificates-distrust-root"/> para anular esta função. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="certificates-distrust-root">
          <term>
            <menuchoice
><guimenu
>Certificados</guimenu
><guimenuitem
>Renegar o Certificado de Raiz</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Marca este certificado de raiz  (&smime;) como não-fidedigno.</action>
            </para>
            <para
>Esta função só está disponível quando estiver seleccionado um e só um certificado de raiz do &smime;, e caso esse certificado esteja marcado como sendo de confiança. </para>
            <para
>É usado para anular o <xref linkend="certificates-trust-root"/>. Consulte essa opção para mais detalhes. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="certificates-certify">
          <term>
            <menuchoice
><guimenu
>Certificados</guimenu
><guimenuitem
>Certificar o Certificado...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Permite-lhe certificar outro certificado de &openpgp;.</action>
<!-- ### xref
              See <xref linkend="functions-manage-wot"/> for details.
-->
            </para>
            <para
>Esta função só está disponível quando estiver seleccionado um e só um certificado de raiz do &openpgp;. </para>
          </listitem>
        </varlistentry>


<!--no longer in kde4
<para
>This is similar to <link
linkend="view-redisplay"
><menuchoice
><shortcut
><keycombo action="simul">
<keycap
>F5</keycap
></keycombo
></shortcut
><guimenu
>View</guimenu>
<guimenuitem
>Redisplay</guimenuitem
></menuchoice
></link
>, but
performs a validation of the (selected) keys. Validation here means
that all relevant CRLs are fetched, and the certificate chain is
checked for correctness. As a result, invalid or expired keys will be
marked according to your color and font preferences set in the <link
linkend="configuration-appearance-certificate-filters"
><guilabel
>Appearance</guilabel>
page</link
> of &kleopatra;'s <link linkend="configuration"
>configure
dialog</link
>.</para>

<warning
><para
>You can only rely on information from validated keys,
and, since any of them may be revoked at any time, even validation is
only ever a snapshot of the current state of the local keyring. This
is why the backend normally performs such checks whenever the keys
are used (&eg; for signing, signature verification, encryption or
decryption).</para
></warning>
</listitem>
</varlistentry>
-->
<!--not in 4.2
varlistentry id="certificates-refresh-crls">
<term
><menuchoice
><guimenu
>Certificates</guimenu
><guimenuitem
>Refresh CRLs</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Fetches the current CRLs for all selected keys,</action>
even though they would normally not be fetched when using the
key.</para>

<para
>This function only has an effect on certificates which define a
&crl; distribution point. Depending on the backend used, certificates
configured to perform checks using &ocsp; will not be updated.</para>

<para
>You may use this &eg; if you have sideband knowledge that a key
has been revoked, and you want the backend to reflect this
<emphasis
>now</emphasis
> instead of relying on this to automatically
happen at the next scheduled &crl; update.</para>

<warning
><para
>Excessive use of this function might put a high load on
your provider's or company's network, since CRLs of large
organizations can be surprisingly big (several megabytes are not
uncommon).</para>

<para
>Use this function scarcely.</para
></warning>
</listitem>
</varlistentry-->

        <varlistentry>
          <term>
            <menuchoice
><guimenu
>Certificados</guimenu
><guimenuitem
>Mudar a Data de Validade...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Permite modificar a data de expiração do seu certificado de &openpgp;.</action>
            </para>
            <para
>Use esta função para aumentar o tempo de vida dos seus certificados de &openpgp;, como alternativa à criação de um novo ou à definição de um tempo de vida ilimitado (<quote
>nunca expira</quote
>). </para>
            <para
>Esta função só está disponível quando estiver seleccionado um e só um certificado de raiz do &openpgp; e se estiver disponível a chave privada do mesmo. </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>
            <menuchoice
><guimenu
>Certificados</guimenu
><guimenuitem
>Mudar a Frase-Senha...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Permite modificar a frase-senha da sua chave privada.</action>
            </para>
            <para
>Esta função só está disponível quando estiver seleccionado um e só um certificado de raiz do &openpgp; e se estiver disponível a chave privada do mesmo. Obriga a ter uma infra-estrutura muito recente, dado que foi modificada a implementação de uma chamada directa ao &gpg; e ao &gpgsm; para uma chamada ao &gpgme;. </para>
            <note>
              <para
>Por razões de segurança, tanto a frase-senha antiga como a nova serão pedidas pelo &pinentry;, num processo separado. Dependendo da plataforma em que você está a correr, bem como da qualidade da implementação do &pinentry; nessa plataforma, poderá acontecer que a janela do &pinentry; apareça em segundo plano. Como tal, se seleccionar esta função e não acontecer nada, verifique a barra de tarefas do sistema operativo para ver se existe alguma janela do &pinentry; aberta em segundo plano. </para>
            </note>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>
            <menuchoice
><guimenu
>Certificados</guimenu
><guimenuitem
>Adicionar um ID de Utilizador...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Permite adicionar um novo ID de utilizador ao seu certificado de &openpgp;.</action>
            </para>
            <para
>Use isto para criar identidades novas a um certificado existente, como alternativa à criação de um novo par de chaves. Um ID de utilizador do &openpgp; tem o seguinte formato: </para>
            <programlisting
><replaceable
>Nome&nbsp;Verdadeiro</replaceable
>&nbsp;<optional
>(<replaceable
>Comentário</replaceable
>)</optional
>&nbsp;&lt;<replaceable
>E-mail</replaceable
>&gt;</programlisting>
            <para
>Na janela que aparece quando seleccionar esta função, o &kleopatra; perguntar-lhe-á cada um dos três parâmetros (<replaceable
>Nome&nbsp;Verdadeiro</replaceable
>, <replaceable
>Comentário</replaceable
> e <replaceable
>E-mail</replaceable
>) em separado, apresentando o resultado numa antevisão. </para>
            <note>
              <para
>Estes parâmetros estão sujeitos às mesmas restrições do Administrador, tal como acontece nos certificados novos. Veja mais detalhes em <xref linkend="functions-newkey"/> e <xref linkend="admin-certificate-request-wizard"/>. </para>
            </note>
            <para
>Esta função só está disponível quando estiver seleccionado um e só um certificado de raiz do &openpgp; e se estiver disponível a chave privada do mesmo. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="certificates-delete">
          <term>
            <menuchoice
><shortcut
><keycombo action="simul"
><keycap
>Delete</keycap
></keycombo
></shortcut
> <guimenu
>Certificados</guimenu
><guimenuitem
>Apagar</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para
><action
>Remove os certificados seleccionados</action
> do porta-chaves local. </para>
            <para
>Use estas funções para remover as chaves não usadas do seu chaveiro local. Todavia, dado que os certificados estão tipicamente anexados às mensagens de e-mail assinadas, a verificação de uma destas mensagens poderá resultar na hipótese de a chave ser removida para depois voltar para o chaveiro local. Como tal, é provavelmente melhor evitar usar esta função o máximo possível. Quando se sentir perdido, use a <link linkend="functions-search"
>barra de procura</link
> ou a função <xref linkend="view-hierarchical-key-list"/> para voltar a ter o controlo sobre o lote de certificados. </para>
            <warning>
              <para
>Existe uma excepção ao caso anterior: Quando apagar um dos seus próprios certificados, você está a apagar a chave privada também com ele. Isto implica que não será capaz de ler as comunicações anteriores encriptadas para si com este certificado, a menos que tenha uma cópia de segurança algures. </para>
              <para
>O &kleopatra; avisá-lo-á quando tentar apagar uma chave privada. </para>
            </warning>
            <para
>Devido à natureza hierárquica dos certificados &smime;, se apagar um certificado emissor de &smime; (certificado da &ca;), todos os sujeitos são também removidos.<footnote
><para
>Isto é igual a um sistema de ficheiros: Quando apaga uma pasta, irá apagar todos os ficheiros e pastas nela contidos também.</para
></footnote>
            </para>
            <para
>Naturalmente, esta função só está disponível se tiver seleccionado pelo menos um certificado. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="certificates-dump-certificate">
          <term>
            <menuchoice
><guimenu
>Certificados</guimenu
><guimenuitem
>Apresentar os Dados do Certificado</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Mostra todas as informações que o &gpgsm; tem acerca do certificado seleccionado (&smime;).</action>
            </para>
            <para
>Veja a discussão acerca do <option
>--dump-key&nbsp;<replaceable
>chave</replaceable
></option
>, no manual do &gpgsm;, para saber mais detalhes sobre o resultado. </para>
          </listitem>
        </varlistentry>

<!--not in 4.2
varlistentry id="certificates-download">
<term
><menuchoice
><guimenu
>Certificates</guimenu
><guimenuitem
>Download</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Downloads the selected certificate(s) from the &ldap; to the local keybox.</action
></para>
</listitem>
</varlistentry-->

</variablelist>

</sect1>

<sect1 id="menutools"
><title
>O Menu Ferramentas</title>

<variablelist>

        <varlistentry id="tools-gnupg-log-viewer">
          <term>
            <menuchoice
><guimenu
>Ferramentas</guimenu
><guimenuitem
>Visualizador do Registo do GnuPG...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para
><action
>Inicia o <ulink url="help:/kwatchgnupg/index.html"
>&kwatchgnupg;</ulink
></action
>, uma ferramenta para apresentar o resultado de depuração da aplicação  &gnupg;. Se a assinatura, encriptação ou a verificação deixarem de funcionar misteriosamente, poderá descobrir porquê, olhando para o registo. </para>
            <para
>Esta função não está disponível no &Windows;, dado que os mecanismos subjacentes não estão implementados na infra-estrutura dessa plataforma. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="certificates-refresh-openpgp">
          <term>
            <menuchoice
><guimenu
>Ferramentas</guimenu
><guimenuitem
>Actualizar os Certificados do OpenPGP</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para
><action
>Actualiza todos os certificados de &openpgp;</action
>, executando o comando <programlisting
><command
>gpg&nbsp;<option
>--refresh-keys</option
></command
></programlisting
> Depois de o comando terminar com sucesso, o seu porta-chaves local irá reflectir as últimas alterações no que respeita à validade dos certificados do &openpgp;. </para>
            <para
>Veja a nota <xref linkend="certificates-refresh-x509"/> para mais detalhes. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="certificates-refresh-x509">
          <term>
            <menuchoice
><guimenu
>Ferramentas</guimenu
><guimenuitem
>Actualizar os Certificados X.509</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para
><action
>Actualiza todos os certificados de &smime;</action
>, executando o comando <programlisting
><!--
                --><command
>gpgsm&nbsp;<!--
                  --><option
>-k</option
>&nbsp;<!--
                  --><option
>--with-validation</option
>&nbsp;<!--
                  --><option
>--force-crl-refresh</option
>&nbsp;<!--
                  --><option
>--enable-crl-checks</option
><!--
                  --></command
></programlisting
>  Depois de o comando terminar com sucesso, o seu porta-chaves local irá reflectir as últimas alterações no que respeita à validade dos certificados do &smime;. </para>
            <note>
              <para
>A actualização dos certificados &x509; ou &openpgp; implica a obtenção de todos os certificados e &crl;'s, de modo a verificar se entretanto foram revogados. </para>
              <para
>Isto poderá colocar bastante incómodo perante si, assim como nas ligações de rede das outras pessoas, podendo levar até uma hora ou mais ainda a terminar, dependendo da sua ligação de rede e do número de certificados a verificar. </para>
            </note>
          </listitem>
        </varlistentry>

        <varlistentry id="file-import-crls">
          <term>
            <menuchoice
><guimenu
>Ferramentas</guimenu
><guimenuitem
>Importar uma CRL de um Ficheiro...</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Permite-lhe importar manualmente as &crl;'s a partir de ficheiros.</action>
            </para>
            <para
>Normalmente, as Listas de Revogação de Certificados (ou &crl;'s) são tratadas de forma transparente pela infra-estrutura, mas poderá às vezes ser útil importar manualmente uma &crl; para a 'cache' local de &crl;'s. </para>
            <note>
              <para
>Para a importação de &crl;'s funcionar, a ferramenta &dirmngr; deverá estar na <envar
>PATH</envar
> de pesquisa. Caso este item de menu esteja desactivado, deverá contactar o administrador de sistemas e pedir-lhe para instalar o &dirmngr;. </para>
            </note>
          </listitem>
        </varlistentry>

<!-- no longer provided
that is wrong
"Clear CRL Cache"+"Dump CRL Cache" are still in the gui of 4.5 + trunk
-->
<varlistentry id="crls-clear-crl-cache">
<term
><menuchoice
><guimenu
>Ferramentas</guimenu
><guimenuitem
>Limpar a 'Cache' de CRL's</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Limpa a 'cache' de &crl;'s do &gpgsm;.</action
></para>

<para
>Provavelmente, nunca irá necessitar disto. Poderá forçar uma actualização da sua 'cache' de &crl;'s, seleccionando todos os certificados e usando o <xref linkend="certificates-refresh-x509"/> em alternativa.</para>
</listitem>
</varlistentry>

<varlistentry id="crls-dump-crl-cache">
<term
><menuchoice
><guimenu
>Ferramentas</guimenu
><guimenuitem
>Exportar a 'Cache' de CRL's</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Mostra o conteúdo detalhado da 'cache' de &crl;'s do &gpgsm;.</action
></para>
</listitem>
</varlistentry>
<!-- no longer provided
<varlistentry id="settings-configure-gpgme-backend">
<term
><menuchoice
><guimenu
>Tools</guimenu
><guimenuitem
>Configure GnuPG Backend...</guimenuitem
></menuchoice
></term>

<listitem>
<para
><action
>Opens a dialog that allows you to configure every aspect of
&gpgsm; and other backend modules.</action
></para>

<para
>This dialog is dynamically built from the output of the
&gpgconf; utility and may thus change when backend modules are
updated.</para>
</listitem>
</varlistentry>
-->

</variablelist>

</sect1>

<sect1 id="menusettings"
><title
>O Menu Configuração</title>

<para
>O &kleopatra; tem um menu de <guimenu
>Configuração</guimenu
> normal do &kde;, tal como descrito nos <ulink url="help:/fundamentals/ui.html#menus-settings"
>Fundamentos do &kde;</ulink
>, com um item adicional:</para>

      <variablelist>

        <varlistentry id="settings-self-test">
          <term>
            <menuchoice
><guimenu
>Configuração</guimenu
><guimenuitem
>Efectuar os Testes Automáticos</guimenuitem
> </menuchoice>
          </term>
          <listitem>
            <para>
              <action
>Efectua um conjunto de testes automáticos, apresentando depois os seus resultados.</action>
            </para>
            <para
>Este é o mesmo conjunto de testes que é executado no arranque, por omissão. Caso tenha desactivado os testes automáticos no arranque, podê-los-á voltar a activar aqui. </para>
<!-- ### xref
            <para>
              See <xref linkend="function-selftest"/> for details.
            </para>
-->
          </listitem>
        </varlistentry>

      </variablelist>

    </sect1
> <!-- Settings Menu -->

<sect1 id="menuwindow"
><title
>O Menu Janela</title>
<para
>O menu <guimenu
>Janela</guimenu
> permite-lhe gerir as páginas. Se usar os itens deste menu, poderá mudar o nome de uma página, adicionar uma nova, duplicar a actual, fechar a página actual e deslocar a página actual para a esquerda ou direita.</para>

<para
>Ao carregar com o &RMB;, poderá carregar numa página para abrir um menu de contexto, onde poderá também seleccionar as mesmas acções.</para>
</sect1>

<sect1 id="menuhelp"
><title
>O Menu Ajuda</title>

<para
>O &kleopatra; tem um menu de <guimenu
>Ajuda</guimenu
> normal do &kde;, como descrito nos <ulink url="help:/fundamentals/ui.html#menus-help"
>Fundamentos do &kde;</ulink
>.</para>

</sect1>

</chapter>

<chapter id="commandline-options"
><title
>Referência das Opções de Linha de Comando</title>

<para
>Só são listadas aqui as opções específicas do &kleopatra;. Como em todas as aplicações do &kde;, você poderá obter uma lista completa das opções se usar o comando <userinput
><command
>kleopatra <option
>--help</option
></command
></userinput
>.</para>

<variablelist>

<varlistentry>
<term
><option
>--uiserver-socket</option
> <replaceable
>argumento</replaceable
></term>
<listitem>
<para
>Localização do 'socket' do servidor de UI onde atender</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><option
>--daemon</option
></term>
<listitem>
<para
>Executar apenas o servidor de UI, esconder a janela principal</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><option
>-p</option
> <option
>--openpgp</option
></term>
<listitem>
<para
>Usar o &openpgp; para a seguinte operação</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><option
>-c</option
> <option
>--cms</option
></term>
<listitem>
<para
>Usar o CMS (&x509;, S/&MIME;) para a seguinte operação</para>
</listitem>
</varlistentry>

<varlistentry id="commandline-option-import-certificate">
<term
><option
>-i</option
> <option
>--import-certificate</option
></term>
<listitem>
<para
><action
>Indica um ficheiro ou &URL; a partir do qual importar os certificados (ou chaves privadas).</action
></para>

<para
>Este é o equivalente na linha de comandos ao <xref linkend="file-import-certificates"/>.</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><option
>-e</option
> <option
>--encrypt</option
></term>
<listitem>
<para
>Encriptar os ficheiros</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><option
>-s</option
> <option
>--sign</option
></term>
<listitem>
<para
>Assinar os ficheiros</para>
</listitem>
</varlistentry>
<!-- comment for 4.5-->
<varlistentry>
<term
><option
>-E</option
> <option
>--encrypt-sign</option
></term>
<listitem>
<para
>Encripta e/ou assina os ficheiros. É igual ao <option
>--sign-encrypt</option
>, não usar</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><option
>-d</option
> <option
>--decrypt</option
></term>
<listitem>
<para
>Descodificar os ficheiros</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><option
>-V</option
> <option
>--verify</option
></term>
<listitem>
<para
>Verificar o ficheiro/assinatura</para>
</listitem>
</varlistentry>

<varlistentry>
<term
><option
>-D</option
> <option
>--decrypt-verify</option
></term>
<listitem>
<para
>Descodificar e/ou verificar os ficheiros</para>
</listitem>
</varlistentry>

</variablelist>

</chapter>

  <chapter id="configuration">
    <title
>Configurar o &kleopatra;</title>

    <para
>A janela de configuração do &kleopatra; poderá ser acedida em <menuchoice
><guimenu
>Configuração</guimenu
><guimenuitem
>Configurar o &kleopatra;...</guimenuitem
></menuchoice
> </para>
    <para
>Cada uma das suas páginas está descrita nas secções em baixo. </para>

    <sect1 id="configuration-directory-services">
      <title
>Configurar os Serviços de Directório</title>

      <para
>Nesta página, poderá configurar os servidores de &ldap; a usar para as pesquisas por certificados de &smime;, assim como os servidores de chaves a usar para as pesquisas por certificados do &openpgp;. </para>
      <note>
        <para
>Esta é apenas uma versão mais amigável da configuração que também irá encontrar em <xref linkend="configuration-gnupg-system"/>. Tudo o que puder configurar aqui, também poderá configurar no outro local. </para>
      </note>
      <note>
        <title
>Uma Nota Sobre os Servidores 'Proxy'</title>
        <para
>As opções do 'proxy' podem ser configuradas para o &http; e o &ldap; no <xref linkend="configuration-smime-validation"/>, mas apenas no caso do &gpgsm;. Para o &gpg;, devido à complexidade das opções do servidor de chaves no &gpg; e à falta de suporte adequado para elas no &gpgconf;, terá de modificar o ficheiro de configuração <filename
>gpg.conf</filename
> directamente. Veja por favor o manual do &gpg; para saber mais detalhes. O &kleopatra; irá preservar essas opções, se bem que não as permite modificar ainda na &GUI;. </para>
      </note>
      <para
>A tabela dos <guilabel
>Serviços de directório</guilabel
> mostra os servidores que estão configurados de momento. Faça duplo-click sobre uma célula da tabela para modificar os parâmetros dos servidores existentes. </para>
      <para
>O significado das colunas da tabela é o seguinte: </para>
      <variablelist>
        <varlistentry id="configuration-directory-services-scheme">
          <term
><guilabel
>Esquema</guilabel
></term
> <!-- linebreak here'd show up in xref text :/ -->
          <listitem>
            <para
>Define o protocolo de rede usado para aceder ao servidor. Os esquemas mais usados incluem o <guilabel
>ldap</guilabel
> (e o seu semelhante em &ssl;, o <guilabel
>ldaps</guilabel
>) para os servidores de &ldap; (um protocolo comum para o &smime;; o único que é suportado pelo &gpgsm;), e o <guilabel
>hkp</guilabel
> (Horowitz Keyserver Protocol), que é conhecido hoje em dia como Protocolo dos Servidores de Chaves em &http;, um protocolo baseado em &http; que praticamente todos os servidores públicos de chaves de &openpgp; suportam. </para>
            <para
>Por favor consulte os manuais do &gpgsm; e do &gpg; para obter a lista de formatos suportados. </para>
          </listitem>
        </varlistentry>
        <varlistentry id="configuration-directory-services-server-name">
          <term
><guilabel
>Nome do Servidor</guilabel
></term>
          <listitem>
            <para
>O nome do domínio do servidor, &eg; <systemitem class="systemname"
>keys.gnupg.net</systemitem
>. </para>
          </listitem>
        </varlistentry>
        <varlistentry id="configuration-directory-services-server-port">
          <term
><guilabel
>Porto do Servidor</guilabel
></term>
          <listitem>
            <para
>O porto de rede em que o servidor está à espera de pedidos. </para>
            <para
>Isto muda automaticamente para o porto predefinido, assim que mudar o <xref linkend="configuration-directory-services-scheme"/>, a menos que tenha sido definido com algum porto fora do normal e que não o consiga repor de volta; tente definir o <xref linkend="configuration-directory-services-scheme"/> como sendo <userinput
>http</userinput
> e o <xref linkend="configuration-directory-services-server-port"/> como <userinput
>80</userinput
> (o valor predefinido para o &http;), seguindo depois a partir daí. </para>
          </listitem>
        </varlistentry>
        <varlistentry id="configuration-directory-services-base-dn">
          <term
><guilabel
>DN de base</guilabel
></term>
          <listitem>
            <para
>O &dn; de Base (apenas para o &ldap; e o &ldaps;), &ie; o topo da hierarquia de  &ldap; onde iniciar a pesquisa. Isto também é normalmente chamado de <quote
>raiz da pesquisa</quote
> ou <quote
>base da pesquisa</quote
>. </para>
            <para
>Normalmente parece-se com algo do tipo <userinput
>c=de,o=Xpto</userinput
>, e é indicado como parte do &URL; de &ldap;. </para>
          </listitem>
        </varlistentry>
        <varlistentry id="configuration-directory-services-user-name">
          <term
><guilabel
>Nome do Utilizador</guilabel
></term>
          <listitem>
            <para
>O nome do utilizador, se existir, a usar para se autenticar no servidor. </para>
            <para
>Esta coluna só aparece caso a opção <guilabel
>Mostrar a informação do utilizador e senha</guilabel
> (por baixo da tabela) esteja assinalada. </para>
          </listitem>
        </varlistentry>
        <varlistentry id="configuration-directory-services-password">
          <term
><guilabel
>Senha</guilabel
></term>
          <listitem>
            <para
>A senha ou palavra-passe, se existir, a usar para se autenticar no servidor. </para>
            <para
>Esta coluna só aparece caso a opção <guilabel
>Mostrar a informação do utilizador e senha</guilabel
> (por baixo da tabela) esteja assinalada. </para>
          </listitem>
        </varlistentry>
        <varlistentry id="configuration-directory-services-x509">
          <term
><guilabel
>X.509</guilabel
></term>
          <listitem>
            <para
>Assinale esta coluna se este item deve ser usado para as pesquisas por certificados de &x509; (&smime;). </para>
            <para
>Só são suportados os servidores de &ldap; (e &ldaps;) para o &smime;. </para>
          </listitem>
        </varlistentry>
        <varlistentry id="configuration-directory-services-openpgp">
          <term
><guilabel
>OpenPGP</guilabel
></term>
          <listitem>
            <para
>Assinale esta coluna se acha que este item deverá ser usado para as pesquisas de certificados do &openpgp;. </para>
          </listitem>
        </varlistentry>
      </variablelist>
      <para
>Poderá configurar tantos servidores de &smime; (&x509;) quantos desejar, mas só é permitido um servidor de &openpgp; de cada vez. A &GUI; encarrega-se de limitar isso. </para>
      <para
>Para adicionar um novo servidor, carregue no botão <guibutton
>Novo</guibutton
>. Isto duplica o item seleccionado, se existir, ou então introduz um servidor predefinido de &openpgp;. Depois poderá definir o <xref linkend="configuration-directory-services-server-name"/>, o <xref linkend="configuration-directory-services-server-port"/>, o <xref linkend="configuration-directory-services-base-dn"/>, o <xref linkend="configuration-directory-services-password"/> e o <xref linkend="configuration-directory-services-user-name"/>, sendo os dois últimos necessários apenas se o servidor necessitar de autenticação. </para>
      <para
>Para introduzir directamente um item para os certificados de &x509;, use a opção <menuchoice
><guimenu
>Novo</guimenu
><guimenuitem
>X.509</guimenuitem
></menuchoice
>; use o <menuchoice
><guimenu
>Novo</guimenu
><guimenuitem
>OpenPGP</guimenuitem
></menuchoice
> para o caso do &openpgp;. </para>
      <para
>Para remover um servidor da lista de procura, seleccione-o na lista e carregue depois no botão <guilabel
>Remover</guilabel
>. </para>
<!-- not in 4.2
<para
>To change the relative search order of servers, select one of
them and move it up or down with the arrow buttons right next to the
list.</para>
-->
      <para
>Para definir o tempo-limite do &ldap;, &ie; o tempo máximo que a infra-estrutura irá esperar pela resposta de um servidor, basta usar o campo de texto correspondente denominado <guilabel
>tempo-limite do LDAP (minutos:segundos)</guilabel
>. </para>
      <para
>Se um dos servidores tiver uma base de dados grande, de modo que as pesquisas razoáveis do tipo <userinput
>Sousa</userinput
> atinjam o <guilabel
>número máximo de itens devolvidos pela pesquisa</guilabel
>, poderá querer aumentar este limite. Você poderá concluir que, se atingir esse limite durante uma pesquisa, irá aparecer uma janela neste caso, a avisá-lo que os resultados foram truncados. </para>
      <note>
        <para
>Alguns servidores poderão impor os seus próprios limites no número de itens devolvidos por uma pesquisa. Neste caso, o aumento do limite aqui não irá resultar em mais itens devolvidos. </para>
      </note>
    </sect1>

    <sect1 id="configuration-appearance">
      <title
>Configurar a Aparência</title>

      <sect2 id="configuration-appearance-tooltips">
          <title
>Configurar as <guilabel
>Dicas</guilabel
></title>

        <para
>Na lista principal de certificados, o &kleopatra; pode mostrar os detalhes de um dado certificado numa dica. A informação apresentada é a mesma que aparece na área de <guilabel
>Vista Geral</guilabel
> da janela de <guilabel
>Detalhes do Certificado</guilabel
>. As dicas, contudo, poderão ser restringidas a mostrar apenas um sub-conjunto da informação para uma experiência menos descritiva. </para>
        <note>
          <para
>O <guilabel
>ID da Chave</guilabel
> é <emphasis
>sempre</emphasis
> apresentado. Isto serve para garantir que as dicas dos diferentes certificados são, de facto, distintas entre si (isto é especialmente importante se só tiver seleccionado a <xref linkend="tooltips-validity"/>). </para>
        </note>
        <para
>Poderá activar ou desactivar, de forma independente, os seguintes conjuntos de informações: </para>
        <variablelist>
          <varlistentry id="tooltips-validity">
            <term
><guilabel
>Mostrar a validade</guilabel
></term>
            <listitem>
              <para
>Mostra informações acerca da validade de um dado certificado: o seu estado actual, o &dn; do emissor (apenas para o &smime;), as datas de validade (se existirem) e as opções de utilização do certificado. </para>
              <para
>Exemplo: <programlisting
><!--
                  -->Este certificado é válido neste momento.
<!--              -->Emissor:            CN=ZS-Teste 7,O=Intevation GmbH,C=DE
<!--              -->Validade:          de 25.08.2009 10:42 até 19.10.2010 10:42
<!--              -->Utilização do certificado: Assinar E-Mails e Ficheiros, Encriptar E-Mails e Ficheiros
<!--              -->ID-Chave:            DC9D9E43<!--
                  --></programlisting>
              </para>
            </listitem>
          </varlistentry>
          <varlistentry id="tooltips-owner">
            <term
><guilabel
>Mostrar a informação do dono</guilabel
></term>
            <listitem>
              <para
>Mostra informações acerca do dono do certificado: o &dn; do sujeito (apenas para o &smime;), os ID's dos utilizadores (incluindo os endereços de e-mail) e a confiança no dono (apenas para o &openpgp;). </para>
              <para
>Exemplo do &openpgp;: <programlisting
><!--
                  -->ID-Utilizador:           UtilizadorGpg4win &lt;utilizador_gpg4win@teste.qg&gt;
<!--              -->ID-Chave:            C6BF6664
<!--              -->Confiança no dono:        absoluta<!--
                  --></programlisting
>. Exemplo do &smime;: <programlisting
><!--
                  -->Sujeito:           CN=UtilizadorGpg4win,OU=Lab_Testes,O=Projecto Gpg4win,C=DE
<!--              -->a.k.a.:            utilizador_gpg4win@teste.qg
<!--              -->ID-Chave:            DC9D9E43<!--
                  --></programlisting>
              </para>
            </listitem>
          </varlistentry>
          <varlistentry id="tooltips-details">
            <term
><guilabel
>Mostrar os detalhes técnicos</guilabel
></term>
            <listitem>
              <para
>Mostra informações técnicas acerca do certificado: o número de série (apenas para o &smime;), o tipo, a impressão digital e a localização do armazenamento. </para>
              <para
>Exemplo: <programlisting
><!--
                  -->Número de Série:     27
<!--              -->Tipo de certificado:  RSA de 1,024-bits (certificado privado disponível)
<!--              -->ID-Chave:            DC9D9E43
<!--              -->Impressão digital:       854F62EEEBB41BFDD3BE05D124971E09DC9D9E43
<!--              -->Armazenado:            neste computador<!--
                  --></programlisting>
              </para>
            </listitem>
          </varlistentry>
        </variablelist>

      </sect2>

      <sect2 id="configuration-appearance-certificate-filters">
        <title
>Configurar as <guilabel
>Categorias de Certificados</guilabel
></title>

        <para
>O &kleopatra; permite-lhe personalizar a aparência dos certificados na lista. Isto inclui a apresentação de um pequeno ícone, mas também poderá definir as cores do texto e do fundo, assim como o tipo de letra. </para>
        <para
>Cada categoria de certificados à esquerda tem atribuído um conjunto de cores e um tipo de letra, com o qual as chaves que pertencerem a essa categoria são apresentados. A lista de categorias também actua como uma antevisão da configuração. As categorias poderão ser definidas de forma livre pelo administrador ou por um utilizador com privilégios; veja o <xref linkend="admin-key-filters"/> em <xref linkend="admin"/>. </para>
        <para
>Para definir ou alterar o ícone de uma categoria, seleccione-a na lista e carregue no botão <guilabel
>Alterar o Ícone...</guilabel
>. A janela de selecção de ícones normal do &kde; irá aparecer, e nela poderá escolher um ícones existente da colecção do &kde; ou carregar um ícone personalizado. </para>
        <para
>Para remover um ícone de novo, você precisa de carregar no botão <guilabel
>Aparência por Omissão</guilabel
>. </para>
        <para
>Para alterar a cor do texto (&ie; a cor principal) de uma categoria, seleccione-a na lista e carregue no botão <guilabel
>Alterar a Cor do Texto...</guilabel
>. A janela de selecção de cores normal do &kde; irá aparecer, e nela poderá escolher ou criar uma cor nova. </para>
        <para
>A alteração da cor de fundo é feita da mesma forma, carregando em alternativa no botão <guilabel
>Alterar a Cor de Fundo...</guilabel
>. </para>
        <para
>Para alterar o tipo de letra, o utilizador tem duas opções: </para>
        <orderedlist>
          <listitem>
            <para
>Modifica o tipo de letra normal, utilizado por todas as listas no &kde;. </para>
          </listitem>
          <listitem>
            <para
>Utilizar um tipo de letra personalizado. </para>
          </listitem>
        </orderedlist>
        <para
>A primeira opção tem a vantagem que o tipo de letra irá seguir o estilo que você definiu a nível do &kde;, enquanto que a última dá-lhe um controlo completo sobre o tipo de letra a usar. A escolha é sua. </para>
        <para
>Para usar o tipo de letra modificado, seleccione a categoria na lista e ligue ou desligue os modificadores do tipo de letra <guilabel
>Itálico</guilabel
>, <guilabel
>Negrito</guilabel
>, e/ou <guilabel
>Traçado</guilabel
>. Você poderá ver imediatamente o efeito do tipo de letra na lista de categorias. </para>
        <para
>Para usar um tipo de letra personalizado, carregue no botão <guilabel
>Alterar o Tipo de Letra...</guilabel
>. A janela normal de selecção do tipo de letra do &kde; irá aparecer e nela poderá seleccionar o novo tipo de letra. </para>
        <note>
          <para
>Poderá usar à mesma os modificadores dos tipos de letra para mudar o tipo de letra personalizado, como faria para modificar o tipo de letra normal. </para>
        </note>
        <para
>Para voltar ao tipo de letra normal, terá de carregar no botão <guilabel
>Aparência por Omissão</guilabel
>. </para>

      </sect2>

      <sect2 id="configuration-dn-order">
        <title
>Configurar a <guilabel
>Ordem dos Atributos do DN</guilabel
></title>

<para
>Ainda que os &dn;s sejam hierárquicos, a ordem dos componentes individuais (chamados de &dn;s relativos (RDNs) ou atributos do &dn;) não está definida. A ordem pela qual aparecem os atributos é, por isso, uma questão de gosto pessoal ou da empresa, razão pela qual é configurável no &kleopatra;.</para>

<note
><para
>Esta opção não só se aplica ao &kleopatra;, mas a todas as aplicações que usam a Tecnologia do &kleopatra;. Na altura em que este documento foi escrito, estas incluem o &kmail;, o &kaddressbook;, assim como o próprio &kleopatra;, como é óbvio.</para
></note>

<para
>Esta página de configuração consiste basicamente em duas listas, uma para os atributos conhecidos (<guilabel
>Atributos disponíveis</guilabel
>) e outra que descreve a <guilabel
>Ordem actual dos atributos</guilabel
>.</para>

<para
>Ambas as listas contêm itens descritos pela forma resumida do atributo (&eg; <guilabel
>CN</guilabel
>), assim como a forma por extenso (<guilabel
>Common Name - Nome Comum</guilabel
>).</para>

<para
>A lista de <guilabel
>Atributos disponíveis</guilabel
> está sempre ordenada alfabeticamente, enquanto que a sequência da lista <guilabel
>Ordem actual dos atributos</guilabel
> reflecte a ordem configurada de atributos do &dn;: o primeiro atributo da lista é também o atributo mostrado em primeiro lugar.</para>

<para
>Só os atributos listados explicitamente na lista <guilabel
>Ordem actual dos atributos</guilabel
> é que são mostrados de todo. O resto fica escondido por omissão.</para>

<para
>Contudo, se o item de substituição <guilabel
>_X_</guilabel
> (<guilabel
>Todos os outros</guilabel
>) estiver na lista <quote
>actual</quote
>, todos os atributos não listados (sejam conhecidos ou não), são inseridos no local do <guilabel
>_X_</guilabel
>, na sua ordem relativa original.</para>

<para
>Um pequeno exemplo ajudará a clarificar isto:</para>

<informalexample>
<para
>Dado o &dn;</para>
<blockquote>
<para
>O=&kde;, C=US, CN=David Programador, X-XPTO2=xpto, OU=&kleopatra;, X-XPTO=xpto2, </para>
</blockquote>
<para
>a ordem de atributos por omissão do <quote
>CN, L, _X_, OU, O, C</quote
> irá gerar o seguinte &dn; formatado:</para>
<blockquote>
<para
>CN=David Programador, X-XPTO2=xpto, X-XPTO=xpto2, OU=&kleopatra;, O=&kde;, C=US </para>
</blockquote>
<para
>enquanto o <quote
>CN, L, OU, O, C</quote
> irá produzir</para>
<blockquote>
<para
>CN=David Programador, OU=&kleopatra;, O=&kde;, C=US </para>
</blockquote>
</informalexample>

<para
>Para adicionar um atributo à lista da ordem de apresentação, seleccione-o na lista de <guilabel
>Atributos disponíveis</guilabel
> e carregue no botão <guilabel
>Adicionar à ordem actual dos atributos</guilabel
>.</para>

<para
>Para remover um atributo da lista da ordem de apresentação, seleccione-o na lista de <guilabel
>Ordem actual dos atributos</guilabel
> e carregue no botão <guilabel
>Remover da ordem actual dos atributos</guilabel
>.</para>

<para
>Para mover um atributo para o início (fim), seleccione-o na lista <guilabel
>Ordem actual dos atributos</guilabel
> e carregue no botão <guilabel
>Mover para o topo</guilabel
> (<guilabel
>Mover para o fundo</guilabel
>).</para>

<para
>Para mover um atributo apenas uma posição para cima (baixo), seleccione-o na lista <guilabel
>Ordem actual dos atributos</guilabel
> e carregue no botão <guilabel
>Subir</guilabel
> (<guilabel
>Descer</guilabel
>).</para>

      </sect2>

    </sect1>

    <sect1 id="configuration-crypto-operations">
      <title
>Configurar as Operações Criptográficas</title>

      <sect2 id="configuration-crypto-operations-email">
        <title
>Configurar as <guilabel
>Operações de E-Mail</guilabel
></title>

        <para
>Aqui poderá configurar alguns aspectos das operações de e-mail do &uiserver; do &kleopatra;. De momento, só pode configurar se deve usar o <quote
>Modo Rápido</quote
> para assinar e encriptar os e-mails, respectivamente. </para>
        <para
>Quando o <quote
>Modo Rápido</quote
> estiver activo, não será apresentada nenhuma janela ao assinar (encriptar) as mensagens de e-mail, respectivamente, a menos que exista um conflito que necessite de uma resolução manual. </para>

      </sect2>

      <sect2 id="configuration-crypto-operations-file">
        <title
>Configurar as <guilabel
>Operações com Ficheiros</guilabel
></title>

        <para
>Aqui poderá configurar alguns aspectos das operações com ficheiros do &uiserver; do &kleopatra;. De momento, só pode escolher o programa de validação de integridade a usar para o <command
>CHECKSUM_CREATE_FILES</command
>. </para>
        <para
>Use o <guilabel
>Programa de códigos de validação a usar</guilabel
> para escolher qual dos programas de geração de códigos de validação instalados é que será usado para criar os ficheiros de códigos de validação. </para>
        <para
>Ao verificar os códigos de validação, o programa a usar será encontrado automaticamente, com base nos nomes dos ficheiros de códigos de validação encontrados. </para>
        <note>
          <para
>O administrador e o super-utilizador poderão definir por completo quais os programas de validação a disponibilizar ao &kleopatra;, através das <quote
>Definições de Códigos de Validação</quote
> do ficheiro de configuração. Veja mais detalhes em <xref linkend="admin-checksum-definitions"/> na secção <xref linkend="admin"/>. </para>
        </note>

      </sect2>

    </sect1>

    <sect1 id="configuration-smime-validation">
    <!-- keep in sync with section configure-security-smime-validation from kmail configure.docbook
    both apps have the same page in settings-->
      <title
>Configurar os aspectos da Validação S/&MIME;</title>

      <para
>Nesta página, poderá configurar alguns aspectos da validação dos certificados de &smime;. </para>
      <note>
        <para
>Para a maior parte dos casos, isto é apenas uma versão mais amigável das mesmas opções que iria encontrar no <xref linkend="configuration-gnupg-system"/>. Tudo o que configurar aqui, poderá configurar no outro local também, com a excepção do <xref linkend="configuration-smime-validation-refresh-interval"/>, que é específico do &kleopatra;. </para>
      </note>
      <para
>O significado das opções é o seguinte: </para>

      <sect2 id="configuration-smime-validation-interval-checking">
        <title
>Configurar a verificação de certificados periódica</title>

        <variablelist>
          <varlistentry id="configuration-smime-validation-refresh-interval">
            <term
><guilabel
>Verifica a validade dos certificados a cada <replaceable
>N</replaceable
> horas</guilabel
></term>
            <listitem>
              <para
>Esta opção activa a verificação periódica da validade dos certificados. Poderá também escolher o intervalo da verificação (em horas). O efeito da verificação periódica é o mesmo que o <xref linkend="view-redisplay"/>; não existe nenhuma possibilidade de agendar periodicamente o <xref linkend="certificates-refresh-openpgp"/> ou o <xref linkend="certificates-refresh-x509"/>. </para>
              <note>
                <para
>A validação é efectuada implicitamente sempre que os ficheiros significativos em <filename
>~/.gnupg</filename
> forem alterados. Esta opção, tal como a <xref linkend="certificates-refresh-openpgp"/> e a <xref linkend="certificates-refresh-x509"/>, só afecta os factores externos da validade do certificado. </para>
              </note>
            </listitem>
          </varlistentry>
        </variablelist>

      </sect2>

      <sect2 id="configuration-smime-validation-method">
        <title
>Configurar o método de validação</title>

        <variablelist>
          <varlistentry id="configuration-smime-validation-use-crls">
            <term
><guilabel
>Validar os certificados com as CRLs</guilabel
></term>
            <listitem>
              <para
>Se esta opção estiver seleccionada, os certificados de &smime; são validados de acordo com as Listas de Revogação de Certificados (&crl;'s). </para>
              <para
>Veja o <xref linkend="configuration-smime-validation-use-ocsp"/> para conhecer um método alternativo de verificação da validade dos certificados. </para>
            </listitem>
          </varlistentry>
          <varlistentry id="configuration-smime-validation-use-ocsp">
            <term
><guilabel
>Validar os 'certificados' a nível 'online' (OCSP)</guilabel
></term>
            <listitem>
              <para
>Se esta opção estiver seleccionada, os certificados de &smime; são validados a nível 'online', usando o Protocolo 'Online' de Estado dos Certificados (&ocsp;). </para>
              <warning>
                <para
>Ao escolher este método, é enviado um pedido ao servidor da &ca;, mais ou menos de cada vez que envia ou recebe uma mensagem criptográfica, o que permite em teoria à agência de emissão de certificados fazer um seguimento das pessoas com quem trocou mensagens (&eg;). </para>
              </warning>
              <para
>Para usar este método, tem de indicar o &URL; do servidor de respostas de &ocsp; no <xref linkend="configuration-smime-validation-ocsp-url"/>. </para>
              <para
>Veja o <xref linkend="configuration-smime-validation-use-ocsp"/> para obter um método mais tradicional de verificação da validação dos certificados, que não passa qualquer informação sobre as pessoas com quem trocou mensagens. </para>
            </listitem>
          </varlistentry>
          <varlistentry id="configuration-smime-validation-ocsp-url">
            <term
><guilabel
>URL de resposta do OCSP</guilabel
></term>
            <listitem>
              <para
>Indique aqui o endereço do servidor de validação 'online' dos certificados (servidor de respostas do &ocsp;). O &URL; normalmente começa por <literal
>http://</literal
>. </para>
            </listitem>
          </varlistentry>
          <varlistentry id="configuration-smime-validation-ocsp-signature">
            <term
><guilabel
>Assinatura de resposta do OCSP</guilabel
></term>
            <listitem>
              <para
>Escolha aqui o certificado com o qual o servidor de &ocsp; assina as suas respostas. </para>
            </listitem>
          </varlistentry>
          <varlistentry id="configuration-smime-validation-ocsp-ignore-service-url">
            <term
><guilabel
>Ignorar o URL de serviço dos certificados</guilabel
></term>
            <listitem>
              <para
>Cada certificado de &smime; normalmente contém o &URL; do servidor de &ocsp; do seu emissor (o <xref linkend="certificates-dump-certificate"/> irá revelar se um dado certificado o contém). </para>
              <para
>Se assinalar esta opção, fará com que o &gpgsm; ignore esses &URL;'s e só use o que estiver configurado acima. </para>
              <para
>Use isto &eg; para forçar a utilização de um 'proxy' de &ocsp; empresarial. </para>
            </listitem>
          </varlistentry>

        </variablelist>

      </sect2>

      <sect2 id="configuration-smime-validation-options">
        <title
>Configurar as opções de validação</title>

        <variablelist>
          <varlistentry id="configuration-smime-validation-dont-check-cert-policy">
            <term
><guilabel
>Não verificar políticas de certificados</guilabel
></term>
            <listitem>
              <para
>Por omissão, o &gpgsm; usa o ficheiro <filename
>~/.gnupg/policies.txt</filename
> para verificar se uma dada política de certificados é permitida ou não. Se esta opção estiver seleccionada, as políticas não são verificadas. </para>
            </listitem>
          </varlistentry>
          <varlistentry id="configuration-smime-validation-never-consult-crl">
            <term
><guilabel
>Nunca consultar uma CRL</guilabel
></term>
            <listitem>
              <para
>Se esta opção estiver assinalada, as Listas de Revogação de Certificados nunca são usadas para validar os certificados de &smime;. </para>
            </listitem>
          </varlistentry>
          <varlistentry id="configuration-smime-validation-allow-mark-trusted">
            <term
><guilabel
>Permitir marcar os certificados de raiz como fidedignos</guilabel
></term>
            <listitem>
            <para
>Se esta opção estiver assinalada quando estiver a importar um certificado da &ca; de raiz, ser-lhe-á pedida a confirmação da sua impressão digital e se considera este certificado de raiz como sendo fidedigno ou não. </para>
              <para
>Um certificado de raiz tem de ser considerado fidedigno, antes de confirmar a confiança nos certificados que este certificou; se fizer apenas uma avaliação ligeira dos certificados de raiz, poderá minar a segurança do sistema. </para>
              <note>
                <para
>Se activar esta funcionalidade na infra-estrutura, poderá obter janelas indesejadas do &pinentry; (&eg; ao verificar as assinaturas), podendo assim bloquear o processamento de correio não-verificado. Por essa razão, e dado que se pretende ser possível <emphasis
>renegar</emphasis
> um certificado de raiz fidedigno, o &kleopatra; permite a definição manual da confiança, usando o <xref linkend="certificates-trust-root"/> e o <xref linkend="certificates-distrust-root"/>. </para>
                <para
>Esta opção aqui não influencia o funcionamento do &kleopatra;. </para>
              </note>
            </listitem>
          </varlistentry>
          <varlistentry id="configuration-smime-validation-fetch-missing-issuers">
            <term
><guilabel
>Obter os certificados do emissor em falta</guilabel
></term>
            <listitem>
              <para
>Se esta opção estiver assinalada, os certificados do emissor em falta serão obtidos quando for necessário (isto aplica-se a ambos os métodos de validação, as &crl;'s e o &ocsp;). </para>
            </listitem>
          </varlistentry>
        </variablelist>

      </sect2>

      <sect2 id="configuration-smime-validation-http-options">
        <title
>Configurar as opções dos pedidos de &http;</title>

        <variablelist>
          <varlistentry id="configuration-smime-validation-disable-http">
            <term
><guilabel
>Não efectuar pedidos HTTP</guilabel
></term>
            <listitem>
              <para
>Desactiva por completo a utilização do &http; para o &smime;. </para>
            </listitem>
          </varlistentry>
          <varlistentry id="configuration-smime-validation-ignore-http-dp">
            <term
><guilabel
>Ignorar o ponto de distribuição CRL HTTP dos certificados</guilabel
></term>
            <listitem>
              <para
>Ao procurar pela localização de uma &crl;, o certificado a testar contém normalmente alguns elementos chamados de <quote
>Pontos de Distribuição da &crl;</quote
> (<acronym
>DP</acronym
>), que são &URL;'s que descrevem a forma de aceder à &crl;. É usado o primeiro item <acronym
>DP</acronym
> que for encontrado. </para>
              <para
>Com esta opção, todos os itens que usem o esquema de &http; serão ignorados ao procurar por um <acronym
>DP</acronym
> adequado. </para>
            </listitem>
          </varlistentry>
          <varlistentry id="configuration-smime-validation-honor-http-proxy">
            <term
><guilabel
>Utilizar o 'proxy' HTTP do sistema</guilabel
></term>
            <listitem>
              <para
>Se esta opção estiver seleccionada, aparecerá o valor do 'proxy' de &http; do lado direito (que vem da variável de ambiente <envar
>http_proxy</envar
>) que será usado para qualquer pedido de &http;. </para>
            </listitem>
          </varlistentry>
          <varlistentry id="configuration-smime-validation-custom-http-proxy">
            <term
><guilabel
>Utilizar este 'proxy' para pedidos HTTP</guilabel
></term>
            <listitem>
              <para
>Se não estiver definido nenhum 'proxy' do sistema, ou caso precise de usar um 'proxy' diferente para o &gpgsm;, poderá indicar aqui a sua localização. </para>
              <para
>Será usada para todos os pedidos de &HTTP; que digam respeito ao S/&MIME;. </para>
              <para
>A sintaxe é <userinput
><replaceable
>máquina</replaceable
><literal
>:</literal
><replaceable
>porto</replaceable
></userinput
>, &eg; <userinput
>proxy.nenhures.com:3128</userinput
>. </para>
            </listitem>
          </varlistentry>
        </variablelist>

      </sect2>

      <sect2 id="configuration-smime-validation-ldap-options">
        <title
>Configurar as opções dos pedidos de &ldap;</title>

        <variablelist>
          <varlistentry id="configuration-smime-validation-disable-ldap">
            <term
><guilabel
>Não efectuar pedidos LDAP</guilabel
></term>
            <listitem>
              <para
>Desactiva por completo a utilização do &ldap; para o &smime;. </para>
            </listitem>
          </varlistentry>
          <varlistentry id="configuration-smime-validation-ignore-ldap-dp">
            <term
><guilabel
>Ignorar o ponto de distribuição CRL LDAP dos certificados</guilabel
></term>
            <listitem>
              <para
>Ao procurar pela localização de uma &crl;, o certificado a testar contém normalmente alguns elementos chamados de "Pontos de Distribuição da &crl;" (<acronym
>DP</acronym
>), que são &URL;'s que descrevem a forma de aceder à &crl;. É usado o primeiro item <acronym
>DP</acronym
> que for encontrado. </para>
              <para
>Com esta opção, todos os itens que usam o esquema &ldap; são ignorados ao procurar por um <acronym
>DP</acronym
> adequado. </para>
            </listitem>
          </varlistentry>
          <varlistentry id="configuration-smime-validation-custom-ldap-proxy">
            <term
><guilabel
>Servidor primário para pedidos LDAP</guilabel
></term>
            <listitem>
              <para
>Se indicar aqui um servidor de &ldap;, fará com que todos os pedidos de &ldap; vão primeiro a este servidor. Para ser mais exacto, esta opção substitui todas as definições de <replaceable
>máquina</replaceable
> e <replaceable
>porto</replaceable
> de um &URL; de &ldap;, sendo também usadas caso a <replaceable
>máquina</replaceable
> e o <replaceable
>porto</replaceable
> tenham sido omitidos do &URL;. </para>
              <para
>Os outros servidores de &ldap; só serão usados se a ligação ao <quote
>proxy</quote
> for mal-sucedida. A sintaxe é <userinput
><replaceable
>máquina</replaceable
></userinput
> ou <userinput
><replaceable
>máquina</replaceable
><literal
>:</literal
><replaceable
>porto</replaceable
></userinput
>. Se o <replaceable
>porto</replaceable
> for omitido, é usado o porto-padrão de &ldap;, que é o 389. </para>
            </listitem>
          </varlistentry>
        </variablelist>

      </sect2>

    </sect1>

    <sect1 id="configuration-gnupg-system">
    <!-- kleopatra + kmail have the this page in settings-->

      <title
>Configurar o Sistema &gnupg;</title>

      <para
>Esta parte da janela é gerada automaticamente a partir do resultado do comando <command
>gpgconf <option
>--list-components</option
></command
> e, para cada um dos <replaceable
>componentes</replaceable
> que o comando acima devolver, é apresentado o resultado do comando <command
>gpgconf <option
>--list-options</option
> <replaceable
>componente</replaceable
></command
>. </para>
      <note>
        <para
>A mais útil destas opções foi duplicada como páginas separadas na janela de configuração do &kleopatra;. Veja em <xref linkend="configuration-directory-services"/> e <xref linkend="configuration-smime-validation"/> as duas janelas em questão, que contêm as opções seleccionadas nesta parte da janela. </para>
      </note>
      <para
>O conteúdo exacto desta parte da janela depende da versão da infra-estrutura do &gnupg; que tiver instalada e, potencialmente, a plataforma em que está a correr. Deste modo, só iremos discutir a disposição geral da janela, incluindo a associação das opções do &gpgconf; aos controlos da &GUI; do &kleopatra;. </para>
      <para
>O &gpgconf; devolve a informação de configuração dos vários componentes. Dentro de cada um dos componentes, as opções individuais estão organizadas em grupos. </para>
      <para
>O &kleopatra; mostra uma página por cada componente indicado pelo &gpgconf;; os grupos são antecedidos por uma linha horizontal que mostra o nome do grupo, tal como foi devolvido pelo &gpgconf;. </para>
      <para
>Cada opção do &gpgconf; tem um tipo associado. Exceptuando as opções mais conhecidas que o &kleopatra; já trata com controlos especializados, para uma melhor experiência do utilizador, a associação entre os tipos do &gpgconf; e os controlos do &kleopatra; é a seguinte: </para>
      <table id="table-gpgconf-types">
	<title
>Associação Entre os Tipos do &gpgconf; e os Controlos &GUI;</title>
	<tgroup cols="3">
          <colspec colname="type"/>
	  <colspec colname="lists" align="center"/>
          <colspec colname="non-lists" align="center"/>
	  <thead>
	    <row>
	      <entry morerows="1"
>Tipo do &gpgconf;</entry>
              <entry namest="lists" nameend="non-lists"
>Controlo do &kleopatra;</entry>
            </row>
            <row>
	      <entry
>para listas</entry>
	      <entry
>para excepções às listas</entry>
	    </row>
	  </thead>
	  <!--tfoot/-->
	  <tbody>
	    <row>
	      <entry
><literal
>nenhuma</literal
></entry>
	      <entry
>Campo incremental (semântica de <quote
>quantidade</quote
>)</entry>
	      <entry
>Opção</entry>
	    </row>
            <row>
              <entry
><literal
>texto</literal
></entry>
              <entry
>&NA;</entry>
              <entry
>Campo de texto</entry>
            </row>
            <row>
              <entry
><literal
>int32</literal
></entry>
              <entry morerows="1"
>Campo de texto (não formatado)</entry>
              <entry morerows="1"
>Campo incremental</entry>
            </row>
            <row>
              <entry
><literal
>uint32</literal
></entry>
            </row>
            <row>
              <entry
><literal
>localização</literal
></entry>
              <entry
>&NA;</entry>
              <entry
>controlo especializado</entry>
            </row>
            <row>
              <entry
><literal
>servidor de LDAP</literal
></entry>
              <entry
>controlo especializado</entry>
              <entry
>&NA;</entry>
            </row>
            <row>
              <entry
><literal
>impressão digital de chave</literal
></entry>
              <entry morerows="3" namest="lists" nameend="non-lists"
>&NA;</entry>
            </row>
            <row>
              <entry
><literal
>chave pública</literal
></entry>
            </row>
            <row>
              <entry
><literal
>chave privada</literal
></entry>
            </row>
            <row>
              <entry
><literal
>lista de nomes alternativos</literal
></entry>
            </row>
          </tbody>
        </tgroup>
      </table>
      <para
>Veja o manual do &gpgconf; para saber mais informações sobre o que poderá configurar aqui, bem como a forma de o fazer. </para>

    </sect1>

</chapter>

<chapter id="admin"
><title
>Guia do Administrador</title>

<para
>Este Guia do Administrador descreve as formas de personalizar o &kleopatra; que não estão disponíveis através da &GUI;, mas apenas através de ficheiros de configuração.</para>

<para
>Assume-se que o leitor está familiarizado com a tecnologia usada para a configuração das aplicações do &kde;, incluindo o formato, a localização no sistema de ficheiros e o encadeamento dos ficheiros de configuração do &kde;, assim como a plataforma KIOSK.</para>

<sect1 id="admin-certificate-request-wizard"
><title
>Personalização do Assistente de Criação de Certificados</title>

<sect2 id="admin-certificate-request-wizard-dn"
><title
>Personalizar os campos &dn;</title>

<para
>O &kleopatra; permite-lhe personalizar os campos que o utilizador tem permissão para introduzir, de forma a criar o seu certificado.</para>

<para
>Crie um grupo chamado <literal
>CertificateCreationWizard</literal
> no <filename
>kleopatrarc</filename
> do sistema. Se você quiser uma ordem personalizada dos atributos ou se desejar que apareçam apenas alguns itens, crie uma chave chamada <varname
>DNAttributeOrder</varname
>. O argumento é um ou mais itens da lista <varname
>CN,SN,GN,L,T,OU,O,PC,C,SP,DC,BC,EMAIL</varname
> Se quiser inicializar os campos com um dado valor, escreva algo do tipo Atributo=valor. Se quiser que o atributo seja tratado como obrigatório, adicione um ponto de exclamação (&eg; <varname
>CN!,L,OU,O!,C!,EMAIL!</varname
> que é, de facto, a configuração por omissão).</para>

<para
>Se usar o modificador do modo do <acronym
>KIOSK</acronym
> <varname
>$e</varname
>, poderá obter os valores das variáveis de ambiente, ou então a partir de um programa avaliado. Se quiser proibir a edição do campo respectivo, para além disso, use o modificador <varname
>$i</varname
>. Se quiser proibir o uso do botão <guibutton
>Inserir o Meu Endereço</guibutton
>, configure o <varname
>ShowSetWhoAmI</varname
> como 'false'.</para>

<tip
><para
>Devido à natureza da plataforma <acronym
>KIOSK</acronym
> do &kde;, se usar a opção de inalterável (<varname
>$i</varname
>), irá impossibilitar ao utilizador a sobreposição da opção. Este é o comportamento pretendido. O <varname
>$i</varname
> e o <varname
>$e</varname
> podem ser usados com todas as chaves de configuração das aplicações do &kde;, da mesma forma.</para
></tip>

<para
>O seguinte exemplo representa as personalizações possíveis:</para>

<para>
<programlisting
>[CertificateCreationWizard] 
;Proibir a cópia de dados pessoais do livro de endereços, não permitir sobreposições locais
ShowSetWhoAmI[$i]=false

;configurar o nome do utilizador igual a $USER
CN[$e]=$USER

;configura o nome da empresa como sendo "A Minha Empresa", proibindo as alterações
O[$i]=A Minha Empresa

;configura o nome do departamento como sendo um valor devolvido por um programa
OU[$ei]=$(devolver_depart_pelo_ip)

; configura o país como PT, mas permitindo alterações pelo utilizador
C=PT
</programlisting>
</para>

</sect2>

      <sect2 id="admin-certificate-request-wizard-keys">

        <title
>Restringir os Tipos de Chaves que um Utilizador Poderá Criar</title>

        <para
>O &kleopatra; também lhe permite restringir o tipo de certificados que um dado utilizador poderá criar. Lembre-se, contudo, que uma forma simples de dar a volta a estas restrições é criar um certificado pela linha de comandos. </para>

        <sect3 id="admin-certificate-request-wizard-keys-type">

          <title
>Algoritmos de Chave Pública</title>

          <para
>Para restringir o algoritmo de chave pública a usar, adicione a variável de configuração <varname
>PGPKeyType</varname
> (e <varname
>CMSKeyType</varname
>, mas só é suportado o <acronym
>RSA</acronym
> para o <acronym
>CMS</acronym
>, de qualquer forma), na secção <literal
>CertificateCreationWizard</literal
> do ficheiro <filename
>kleopatrarc</filename
>. </para>

          <para
>Os valores permitidos como <literal
>RSA</literal
> para as chaves <acronym
>RSA</acronym
>, <literal
>DSA</literal
> para as chaves <acronym
>DSA</acronym
> (apenas de assinatura), e <literal
>DSA+ELG</literal
> para uma chave <acronym
>DSA</acronym
> (apenas de assinatura) com uma sub-chave ElGamal para a encriptação. </para>

          <para
>O valor por omissão é lido do &gpgconf; ou então é igual a <literal
>RSA</literal
>, caso o &gpgconf; não devolva qualquer valor. </para>

        </sect3>

        <sect3 id="admin-certificate-request-wizard-keys-size">

          <title
>Tamanho da Chave Pública</title>

          <para
>Para restringir os tamanhos de chaves para um algoritmo público, adicione a variável de configuração <varname
><replaceable
>&lt;ALG&gt;</replaceable
>KeySizes</varname
> (onde o <replaceable
>ALG</replaceable
> poderá ser <literal
>RSA</literal
>, <literal
>DSA</literal
> ou <literal
>ELG</literal
>) na secção <literal
>CertificateCreationWizard</literal
> do ficheiro <filename
>kleopatrarc</filename
>, contendo uma lista de tamanhos de chaves separadas por vírgulas (em 'bits'). Poderá indicar um valor por omissão se anteceder o tamanho da chave com um hífen (<literal
>-</literal
>). </para>

          <para>
            <programlisting
>RSAKeySizes = 1536,-2048,3072
            </programlisting>
          </para>


          <para
>O valor acima iria restringir os tamanhos permitidos para as chaves <acronym
>RSA</acronym
> a 1536, 2048 e 3072, sendo o 2048 o valor por omissão. </para>

          <para
>Para além dos tamanhos propriamente ditos, poderá indicar algumas legendas para cada um dos tamanhos. Basta definir a variável <varname
><replaceable
>ALG</replaceable
>KeySizeLabels</varname
> como uma lista de legendas separadas por vírgulas. </para>

          <para>
            <programlisting
>RSAKeySizeLabels = fraca,normal,forte
            </programlisting>
          </para>

          <para
>O valor acima, em conjunto com o exemplo anterior, iria imprimir algo do género na selecção: <programlisting
>fraca (1536 bits)
              normal (2048 bits)
              forte (3072 bits)
            </programlisting>
          </para>

          <para
>Os valores por omissão serão os seguintes: <programlisting
>RSAKeySizes = 1536,-2048,3072,4096
              RSAKeySizeLabels =
              DSAKeySizes = -1024,2048
              DSAKeySizeLabels = v1,v2
              ELGKeySizes = 1536,-2048,3072,4096
            </programlisting>
          </para>

        </sect3>

      </sect2>

    </sect1>

    <sect1 id="admin-key-filters">

      <title
>Criar e Editar Categorias de Chaves</title>

      <para
>O &kleopatra; permite ao utilizador configurar a <link linkend="configuration-appearance-certificate-filters"
>aparência visual</link
> das chaves com base num conceito chamado de <guilabel
>Categorias das Chaves</guilabel
>. Estas também podem ser usadas para filtrar a lista de certificados. Esta secção descreve como poderá editar as categorias disponíveis, bem como adicionar novas. </para>

      <para
>Ao tentar procurar a categoria a que uma chave pertence, o &kleopatra; tenta corresponder a chave a uma sequência de filtros de chaves, configurada no <filename
>libkleopatrarc</filename
>. A primeira a corresponder define a categoria, baseada num conceito de <emphasis
>especificidade</emphasis
>, explicada mais abaixo. </para>

      <para
>Cada filtro de chaves está definido num grupo de configuração chamado <literal
>Key Filter #<replaceable
>n</replaceable
></literal
>, em que o <replaceable
>n</replaceable
> é um número que começa em <literal
>0</literal
>. </para>

      <para
>As únicas chaves obrigatórias num grupo <literal
>Key Filter #<replaceable
>n</replaceable
></literal
> é o <varname
>Name</varname
>, que contém o nome da categoria, tal como aparece na <link linkend="configuration-appearance-certificate-filters"
>janela de configuração</link
> e o <varname
>id</varname
>, que é usado como referência para o filtro nas outras secções de configuração como o <literal
>View #<replaceable
>n</replaceable
></literal
>). </para>

      <para
><xref linkend="table-key-filters-appearance"/> lista todas as chaves que definem as propriedades de visualização das chaves que pertencem a essa categorias (&ie; aquelas chaves que poderão ser ajustadas na <link linkend="configuration-appearance-certificate-filters"
>janela de configuração</link
>), em que o <xref linkend="table-key-filters-criteria"/> lista todas as chaves que definem o critério com o qual o filtro faz a correspondência das chaves. </para>

      <table id="table-key-filters-appearance">
	<title
>Chaves de Configuração do Filtro de Chaves que Definem Propriedades de Visualização</title>
	<tgroup cols="3">
	  <colspec colnum="2" align="center"/>
	  <thead>
	    <row>
	      <entry
>Chave de Configuração</entry>
	      <entry
>Tipo</entry>
	      <entry
>Descrição</entry>
	    </row>
	  </thead>
	  <!--tfoot/-->
	  <tbody>
	    <row>
	      <entry
><varname
>background-color</varname
></entry>
	      <entry
>cor</entry>
	      <entry
>A cor de fundo a usar. Se estiver em falta, usa a cor de fundo definida a nível global para as listas. </entry>
	    </row>
	    <row>
	      <entry
><varname
>foreground-color</varname
></entry>
	      <entry
>cor</entry>
	      <entry
>A cor do texto a usar. Se estiver em falta, usa a cor do texto definida a nível global para as listas. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font</varname
></entry>
	      <entry
>tipo de letra</entry>
	      <entry
>O tipo de letra a usar. Esse tipo de letra será ajustado para o tamanho configurado para as listas e todos os atributos dos tipos de letra (ver em baixo) serão aplicados. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-bold</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>Se for igual a <literal
>true</literal
> e o <varname
>font</varname
> não estiver definido, usa o tipo de letra por omissão das listas com um estilo negrito adicionado (se estiver disponível). É ignorado se o <varname
>font</varname
> estiver também disponível. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-italic</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>É igual ao <varname
>font-bold</varname
>, só que para um tipo de letra itálico em vez de negrito. </entry>
	    </row>
	    <row>
	      <entry
><varname
>font-strikeout</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>Se for igual a <literal
>true</literal
>, desenha uma linha centrada por cima do tipo de letra. É aplicado, mesmo que o <varname
>font</varname
> esteja definido. </entry>
	    </row>
	    <row>
	      <entry
><varname
>icon</varname
></entry>
	      <entry
>texto</entry>
	      <entry
>O nome do ícone a mostrar para a primeira coluna. Ainda não está implementado. </entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <table id="table-key-filters-criteria">
	<title
>Chaves de Configuração do Filtro de Chaves que Definem Critérios de Filtragem</title>
	<tgroup cols="3">
	  <colspec colnum="2" align="center"/>
	  <thead>
	    <row>
	      <entry
>Chave de Configuração</entry>
	      <entry
>Tipo</entry>
	      <entry
>Se forem indicadas, o filtro faz correspondência quando...</entry>
	    </row>
	  </thead>
	  <!--tfoot/-->
	  <tbody>
	    <row>
	      <entry
><varname
>is-revoked</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave foi revogada.</entry>
	    </row>
	    <row>
	      <entry
><varname
>match-context</varname
></entry>
	      <entry
>context<footnote
> <para
>O contexto é uma enumeração com os valores permitidos: <literal
>appearance</literal
>, <literal
>filtering</literal
> e <literal
>any</literal
>.</para>
                </footnote>
              </entry>
	      <entry
>o contexto a que este filtro corresponde.</entry>
	    </row>
	    <row>
	      <entry
><varname
>is-expired</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave expirou.</entry>
	    </row>
	    <row>
	      <entry
><varname
>is-disabled</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave foi desactivada (marcada para não ser usada) pelo utilizador. É ignorada no caso das chaves &smime;. </entry>
	    </row>
	    <row>
	      <entry
><varname
>is-root-certificate</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave é um certificado de raiz. Ignorado nas chaves &openpgp;. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-encrypt</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave pode ser utilizada para encriptação. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-sign</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave pode ser utilizada para assinar. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-certify</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave por ser utilizada para assinar (certificar) outras chaves. </entry>
	    </row>
	    <row>
	      <entry
><varname
>can-authenticate</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave pode ser utilizada para autenticação (&eg; como um certificado de cliente <acronym
>TLS</acronym
>). </entry>
	    </row>
	    <row>
	      <entry
><varname
>is-qualified</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a tecla poderá ser usada para fazer Assinaturas Qualificadas (como está definido na Lei de Assinatura Digital alemã). </entry>
	    </row>
	    <row>
	      <entry
><varname
>is-cardkey</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>O material da chave está guardado num 'smartcard' (em vez do computador). </entry>
	    </row>
	    <row>
	      <entry
><varname
>has-secret-key</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave secreta deste par da chaves está disponível. </entry>
	    </row>
	    <row>
	      <entry
><varname
>is-openpgp-key</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave é uma chave &openpgp; (<literal
>true</literal
>), ou uma chave &smime; (<literal
>false</literal
>). </entry>
	    </row>
	    <row>
	      <entry
><varname
>was-validated</varname
></entry>
	      <entry
>booleano</entry>
	      <entry
>a chave foi validada. </entry>
	    </row>
	    <row>
	      <entry
><varname
><replaceable
>prefixo</replaceable
>-ownertrust</varname
></entry>
	      <entry
>validate<footnote
> <para
>A validade é uma enumeração (ordenada) com os seguintes valores permitidos: <literal
>unknown</literal
> (desconhecido), <literal
>undefined</literal
> (indefinido), <literal
>never</literal
> (nunca), <literal
>marginal</literal
> (marginal), <literal
>full</literal
> (completa), <literal
>ultimate</literal
> (unânime). Veja os manuais do &gpg; e do &gpgsm; para uma explicação detalhada.</para>
		</footnote>
	      </entry>
	      <entry
>a chave tem exactamente (<replaceable
>prefixo</replaceable
>&nbsp;=&nbsp;<literal
>is</literal
>), tem tudo excepto (<replaceable
>prefixo</replaceable
>&nbsp;=&nbsp;<literal
>is-not</literal
>), tem pelo menos (<replaceable
>prefixo</replaceable
>&nbsp;=&nbsp;<literal
>is-at-least</literal
>), ou tem no máximo (<replaceable
>prefixo</replaceable
>&nbsp;=&nbsp;<literal
>is-at-most</literal
>) o grau de confiança dado como valor da chave de configuração. Se for indicada mais do que uma chave <varname
><replaceable
>prefixo</replaceable
>-ownertrust</varname
> (com vários valores de <replaceable
>prefixo</replaceable
>) num único grupo, o comportamento será indefinido. </entry>
	    </row>
	    <row>
	      <entry
><varname
><replaceable
>prefixo</replaceable
>-validity</varname
></entry>
	      <entry
>validate</entry>
	      <entry
>É igual ao <varname
><replaceable
>prefixo</replaceable
>-ownertrust</varname
>, mas para a validade da chave em vez do grau de confiança do dono. </entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <note>
	<para
>Alguns dos critérios mais interessantes, como o <varname
>is-revoked</varname
> ou o <varname
>is-expired</varname
> só irão funcionar com as chaves <emphasis
>validadas</emphasis
>, razão pela qual, por omissão, só as chaves validadas são verificadas a nível de revogação e expiração, ainda que você seja livre para remover estas verificações extra. </para>
      </note>

      <para
>Para além das chaves de configuração indicadas acima, um filtro de chaves poderá também ter um <varname
>id</varname
> e um <varname
>match-contexts</varname
>. </para>

      <para
>Se usar o <varname
>id</varname
> do filtro, o que corresponde ao nome do grupo de configuração do filtro se não for indicado ou for vazio, poderá referenciar o filtro de chaves mais tarde na configuração, &eg; na configuração da Janela do &kleopatra;. O <varname
>id</varname
> não é interpretado pelo &kleopatra;; como tal, pode usar o texto que desejar, desde que seja único. </para>

      <para
>O <varname
>match-contexts</varname
> limita a possibilidade de aplicação do filtro. Estão definidos dois contextos de momento: o contexto <literal
>appearance</literal
> é usado ao definir as propriedades de cores e tipos de letra das janelas. O contexto <literal
>filtering</literal
> é usado para incluir (e excluir) de forma selectiva os certificados das janelas. O <literal
>any</literal
> pode ser usado para se aplicar a todos os contextos definidos de momento, sendo a opção por omissão se o <varname
>match-contexts</varname
> não for indicado ou se não produzir contextos de outra forma. Isto garante que nenhum filtro de chaves poderá terminar <quote
>morto</quote
>, &ie; sem quaisquer contextos aplicados. </para>

      <para
>O formato do item é uma lista de elementos separados por caracteres separadores de palavras. Cada um destes elementos é antecedido opcionalmente de um ponto de exclamação (<literal
>!</literal
>), o que indica uma negação. Os elementos actuam por ordem sobre uma lista de contextos interna, que começa inicialmente vazia. Isto é melhor explicado com um exemplo: <literal
>any !apperance</literal
> é o mesmo que <literal
>filtering</literal
>, assim como <literal
>appearance !appearance</literal
> produz um conjunto vazio, dado que corresponde a <literal
>!any</literal
>. Contudo, os dois últimos serão substituídos por <literal
>any</literal
>, dado que não produzem quaisquer contextos. </para>

      <para
>De um modo geral, os critérios não indicados (&ie; o item de configuração não está definido) não são validados. Se um critério for indicado, é validado e terá de corresponder para que o filtro como um todo seja validado, &ie; os critérios são agrupados com um E lógico. </para>

      <para
>Cada filtro tem uma <quote
>especificidade</quote
> implícita que é usada para classificar todos os filtros correspondentes. Os filtros mais específicos têm precedência sobre os menos específicos. Se dois filtros tiverem a mesma especificidade, o que vier primeiro no ficheiro de configuração ganha. A especificidade de um filtro é proporcional ao número de critérios que contém. </para>

      <example>
	<title
>Exemplos de filtros de chaves</title>
	<para
>Para verificar todos os certificados expirados mas não revogados, você iria usar um filtro de chaves definido da seguinte forma: </para>
<!-- isn't there a better way to not indent this in the output??? -->
	<screen
><!--
-->[Key Filter #<replaceable
>n</replaceable
>]
Name=expirada mas não revogada
was-validated=true
is-expired=true
is-revoked=false
is-root-certificate=true
; ( specificity 4 )<!--
     --></screen>
	<para
>Para verificar todas as chaves de &openpgp; desactivadas (ainda não suportado pelo &kleopatra;) com um grau de confiança pelo menos <quote
>marginal</quote
>, você iria usar: </para>
	<screen
><!--
-->[Key Filter #<replaceable
>n</replaceable
>]
Name=chaves de OpenPGP desactivadas com confiança marginal ou boa
is-openpgp=true
is-disabled=true
is-at-least-ownertrust=marginal
; ( specificity 3 )<!--
     --></screen>
      </example>

    </sect1>

    <sect1 id="admin-archive-definitions">

      <title
>Configurar os Arquivadores a Usar ao Assinar/Encriptar os Ficheiros</title>

      <para
>O &kleopatra; permite ao administrador (e aos utilizadores especializados) configurar a lista de arquivadores que estão presentes na janela para Assinar/Encriptar os Ficheiros. </para>

      <para
>Cada arquivador está definido no <filename
>libkleopatrarc</filename
> como um grupo <literal
>Archive&nbsp;Definition&nbsp;#<replaceable
>n</replaceable
></literal
> separado, com as seguintes chaves obrigatórias: </para>

      <variablelist>

        <varlistentry id="archive-definition-extensions">
          <term
><literal
>extensions</literal
></term>
          <listitem>
            <para
>Uma lista, separa por vírgulas, das extensões de ficheiros que indicam normalmente este formato de arquivo. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="archive-definition-id">
          <term
><literal
>id</literal
></term>
          <listitem>
            <para
>Um ID único que é usado para identificar este arquivador internamente. Em caso de dúvida, use o nome do comando. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="archive-definition-Name">
          <term
><literal
>Name</literal
> (traduzido)</term>
          <listitem>
            <para
>O nome visível para o utilizador do arquivador, tal como aparece na lista correspondente na janela para Assinar/Encriptar os Ficheiros. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="archive-definition-pack-command">
          <term
><literal
>pack-command</literal
></term>
          <listitem>
            <para
>O comando real usado para arquivar os ficheiros. Poderá usar qualquer comando, desde que não seja necessária qualquer linha de comandos para o executar. O programa é pesquisado com a variável de ambiente <envar
>PATH</envar
>, a menos que tenha usado uma localização absoluta para o ficheiro. Existe o suporte para aspas, caso tenha sido utilizada uma linha de comandos: <programlisting
>pack-command="/opt/ZIP v2.32/bin/zip" -r -</programlisting>
            </para>
          </listitem>
        </varlistentry>

      </variablelist>

      <note id="backslashes-in-config-keys">
        <para
>Dado que a barra invertida (<literal
>\</literal
>) é um carácter de escape nos ficheiros de configuração do KDE, terá de os duplicar quando aparecerem nos nomes dos ficheiros: <programlisting
>pack-command=C:\\Programas\\GNU\\tar\\gtar.exe&nbsp;...</programlisting
> Contudo, para o comando em si (em oposição aos seus argumentos), poderá apenas usar as barras normais (<literal
>/</literal
>) como separadores entre pastas para todas as plataformas: <programlisting
>pack-command=C:/Programas/GNU/tar/gtar.exe&nbsp;...</programlisting
> Isto não é suportado nos argumentos, porque a maioria dos programas do &Windows; usam as barras normais para as opções. Por exemplo, o seguinte não irá funcionar, dado que o <literal
>C:/programa-arquivo.bat</literal
> é um argumento do <command
>cmd.exe</command
>, e o <literal
>/</literal
> não será assim convertido para <literal
>\</literal
> nos argumentos, somente nos comandos: <programlisting
>pack-command=cmd.exe C:/programa-arquivo.bat</programlisting
> Este comando deverá sim ser descrito como: <programlisting
>pack-command=cmd.exe C:\\programa-arquivo.bat</programlisting>
        </para>
      </note>

      <sect2 id="admin-archive-definitions-filename-passing">

      <title
>Passagem do Ficheiro de Entrada ao <literal
>pack-command</literal
></title>

      <para
>Existem três formas de passar os nomes dos ficheiros ao comando de arquivo. Para cada uma delas, o <literal
>pack-command</literal
> oferece uma sintaxe em particular: </para>

      <orderedlist>

        <listitem>
          <para
>Como argumentos da linha de comandos.</para>
            <para
>Exemplo (tar): <programlisting
>pack-command=tar cf -</programlisting
> Exemplo (zip): <programlisting
>pack-command=zip -r - %f</programlisting
> Nesse caso, os nomes dos ficheiros são passados na linha de comandos, tal como faria ao usar a linha de comandos. O &kleopatra; não usa nenhuma linha de comandos para executar o comando. Como tal, esta é uma forma segura de passar os nomes dos ficheiros, mas, se bem que poderá ter algumas restrições quanto ao tamanho da linha de comandos em algumas plataformas. Um <literal
>%f</literal
> literal, se estiver presente, será substituído pelos nomes dos ficheiros a arquivar. Caso contrário, os nomes dos ficheiros serão adicionados à linha de comandos. Como tal, o exemplo para o ZIP, acima descrito, seria escrito de forma equivalente da seguinte forma: <programlisting
>pack-command=zip -r -</programlisting>
            </para>
        </listitem>

        <listitem>
          <para
>Através do 'standard-in' (STDIN), separado por mudanças de linha: coloque antes um <literal
>|</literal
>.</para>
            <para
>Exemplo ('tar' da &GNU;): <programlisting
>pack-command=|gtar cf - -T-</programlisting
> Exemplo (ZIP): <programlisting
>pack-command=|zip -@ -</programlisting
> Neste caso, os nomes dos ficheiros são passados ao programa de arquivo pelo <acronym
>stdin</acronym
>, um por cada linha. Isto evita os problemas nas plataformas que colocam um limite baixo no número de argumentos permitido pela linha de comandos, mas não resulta quando os nomes dos ficheiros contêm de facto mudanças de linha nos seus nomes. </para>
            <note>
              <para
>O &kleopatra; só suporta de momento o <acronym
>LF</acronym
> como separador de linhas, não suportando o <acronym
>CRLF</acronym
>. Isto poderá mudar nas próximas versões, dependendo das reacções do utilizador. </para>
            </note>
        </listitem>

        <listitem>
          <para
>Através do 'standard-in', separado por 'bytes' NUL: coloque anteriormente <literal
>0|</literal
>.</para>
            <para
>Exemplo ('tar' da &GNU;): <programlisting
>pack-command=0|gtar cf - -T- --null</programlisting
> Este é igual ao anterior, com a diferença que são usados 'bytes' NUL (vazios) para separar os nomes dos ficheiros. Dado que os 'bytes' NUL são proibidos nos nomes dos ficheiros, esta é a forma mais robusta de passar nomes de ficheiros, só que infelizmente nem todos os programas a suportam. </para>
        </listitem>

      </orderedlist>

      </sect2
> <!-- Input Filename Passing for pack-command -->

    </sect1
> <!-- Archive Definitions -->

    <sect1 id="admin-checksum-definitions">

      <title
>Configurar os Programas de Validação  a Usar para Criar/Verificar Códigos de Validação</title>

      <para
>O &kleopatra; permite ao administrador (e aos utilizadores especializados) configurar a lista de programas de geração de códigos de validação de integridade que o utilizador poderá escolher, a partir da janela de configuração, desde que o  &kleopatra; consiga detectar automaticamente, quando for pedido para verificar o código de integridade de um dado ficheiro. </para>

      <note>
        <para
>Para poder ser usado pelo &kleopatra;, o resultado dos programas de validação (tanto o ficheiro de códigos gravado, como o resultado para o <acronym
>stdout</acronym
>, na verificação dos códigos de validação) terá de ser compatível com os comandos da &GNU; <command
>md5sum</command
> e <command
>sha1sum</command
>. </para>

        <para
>De uma forma específica, o ficheiro de códigos de validação será composto por várias linhas, tendo cada uma delas o seguinte formato: <programlisting
><replaceable
>CÓDIGO-VALIDAÇÃO</replaceable
> ' ' ( ' ' | '*' ) <replaceable
>NOME-FICHEIRO</replaceable
></programlisting
> em que o <replaceable
>CÓDIGO-VALIDAÇÃO</replaceable
> consiste apenas em caracteres hexadecimais. Se o <replaceable
>NOME-FICHEIRO</replaceable
> tiver um carácter de mudança de linha, a linha deverá ser lida então como: <programlisting
>\<replaceable
>CÓDIGO-VALIDAÇÃO</replaceable
> ' ' ( ' ' | '*' ) <replaceable
>NOME-FICHEIRO-ESCAPADO</replaceable
></programlisting
> em que o <replaceable
>NOME-FICHEIRO-ESCAPADO</replaceable
> é o nome do ficheiro com as mudanças de linha substituídas por <literal
>\n</literal
>'s e as barras invertidas duplicadas (<literal
>\</literal
>&#x21A6;<literal
>\\</literal
>). </para>

        <para
>Do mesmo modo, o resultado do <xref linkend="checksum-definition-verify-command"/> deverá estar no formato <programlisting
><replaceable
>FICHEIRO</replaceable
> ( ': OK' | ': FAILED' )</programlisting
>, separado por mudanças de linha. Estas e os outros caracteres <emphasis
>não</emphasis
> são escapados no resultado.<footnote
> <para
>Sim, estes programas não foram feitos com as interfaces gráficas em mente, pelo que o &kleopatra; não conseguirá processar os ficheiros patológicos que contenham ":&nbsp;OK" e uma mudança de linha no seu nome. </para>
          </footnote>
        </para>
      </note>

      <para
>Cada programa de validação está definido no <filename
>libkleopatrarc</filename
> como um grupo <literal
>Checksum&nbsp;Definition&nbsp;#<replaceable
>n</replaceable
></literal
> separado, com as seguintes chaves obrigatórias: </para>

      <variablelist>

        <varlistentry id="checksum-definition-file-patterns">
          <term
><literal
>file-patterns</literal
></term>
          <listitem>
            <para
>Uma lista de expressões regulares que descrevem quais os ficheiros que poderão ser considerados ficheiros de validação de integridade para este programa em particular. A sintaxe é a mesma que é usada para as listas de textos nos ficheiros de configuração do &kde;.<note
> <para
> Dado que as expressões regulares normalmente contêm barras invertidas (\), deve-se ter algum cuidado em escapá-las também no ficheiro. Recomenda-se a utilização de uma ferramenta de edição de ficheiros de configuração.</para
> </note
> A plataforma define se os padrões são tratados com ou sem distinção entre maiúsculas e minúsculas. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="checksum-definition-output-file">
          <term
><literal
>output-file</literal
></term>
          <listitem>
            <para
>O nome do ficheiro de saída típico para este programa de validação (deverá corresponder a um dos <xref linkend="checksum-definition-file-patterns"/>, obviamente). Isto é o que o &kleopatra; irá usar como ficheiro de saída, cada vez que criar ficheiros de códigos de validação deste tipo. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="checksum-definition-id">
          <term
><literal
>id</literal
></term>
          <listitem>
            <para
>Um ID único que é usado para identificar este programa internamente. Em caso de dúvida, use o nome do comando. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="checksum-definition-Name">
          <term
><literal
>Name</literal
> (traduzido)</term>
          <listitem>
            <para
>O nome visível para o utilizador deste programa de validação de integridade, tal como irá aparecer na lista respectiva da janela de configuração do &kleopatra;. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="checksum-definition-create-command">
          <term
><literal
>create-command</literal
></term>
          <listitem>
            <para
>O comando real com que são criados os ficheiros de validação de integridade. A sintaxe, as restrições e as opções de passagem de argumentos são as mesmas que foram descritas para o <xref linkend="archive-definition-pack-command"/> nas <xref linkend="admin-archive-definitions"/>. </para>
          </listitem>
        </varlistentry>

        <varlistentry id="checksum-definition-verify-command">
          <term
><literal
>verify-command</literal
></term>
          <listitem>
            <para
>É igual ao <xref linkend="checksum-definition-create-command"/>, mas usado na verificação dos códigos de validação de integridade. </para>
          </listitem>
        </varlistentry>

      </variablelist>

      <para
>Aqui está um exemplo completo: <programlisting
>[Checksum Definition #1]
          file-patterns=sha1sum.txt
          output-file=sha1sum.txt
          id=sha1sum-gnu
          Name=sha1sum (GNU)
          Name[de]=sha1sum (GNU)
          ...
          create-command=sha1sum -- %f
          verify-command=sha1sum -c -- %f
        </programlisting>
      </para>

    </sect1
> <!-- Checksum Definition -->

  </chapter
> <!-- Administrator's Guide -->

<chapter id="credits-and-license">
<title
>Créditos e Licença</title>

<para
>&kleopatra; com 'copyright' 2002 de &Steffen.Hansen;, &Matthias.Kalle.Dalheimer; e &Jesper.Pedersen;., 'copyright' 2004 de &Daniel.Molkentin;, 'copyright' 2004, 2007, 2008, 2009, 2010 de Klar&auml;lvdalens Datakonsult AB</para>

<para
>Documentação com 'copyright' 2002 de &Steffen.Hansen;, 'copyright' 2004 de &Daniel.Molkentin;, 'copyright' 2004, 2010 de Klar&auml;lvdalens Datakonsult AB</para>

<itemizedlist>
<title
>Contribuições</title>
<listitem>
<para
>&Marc.Mutz; &Marc.Mutz.mail;</para>
</listitem>
<listitem>
<para
>&David.Faure; &David.Faure.mail;</para>
</listitem>
<listitem>
<para
>&Steffen.Hansen; <email
>hansen@kde.org</email
></para>
</listitem>
<listitem>
<para
>&Matthias.Kalle.Dalheimer; &Matthias.Kalle.Dalheimer.mail;</para>
</listitem>
<listitem>
<para
>&Jesper.Pedersen; &Jesper.Pedersen.mail;</para>
</listitem>
<listitem>
<para
>&Daniel.Molkentin; &Daniel.Molkentin.mail;</para>
</listitem>
</itemizedlist>

<para
>Tradução de José Nuno Pires <email
>zepires@gmail.com</email
></para
> 
&underFDL; &underGPL; </chapter>

&documentation.index;
</book>

<!--
Local Variables:
mode: sgml
sgml-minimize-attributes:nil
sgml-general-insert-case:lower
sgml-indent-step:2
sgml-indent-data:t
End:

// vim:ts=2:sw=2:tw=78:noet
-->
